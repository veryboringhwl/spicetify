
        while (!Spicetify.React || !Spicetify.ReactDOM) {
          await new Promise(resolve => setTimeout(resolve, 10));
        }
    
var gt=Object.create;var Te=Object.defineProperty;var yt=Object.getOwnPropertyDescriptor;var ht=Object.getOwnPropertyNames;var bt=Object.getPrototypeOf,vt=Object.prototype.hasOwnProperty;var be=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var St=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of ht(t))!vt.call(e,a)&&a!==o&&Te(e,a,{get:()=>t[a],enumerable:!(n=yt(t,a))||n.enumerable});return e};var r=(e,t,o)=>(o=e!=null?gt(bt(e)):{},St(t||!e||!e.__esModule?Te(o,"default",{value:e,enumerable:!0}):o,e));var g=be((po,ke)=>{ke.exports=Spicetify.React});var re=be((mo,_e)=>{_e.exports=Spicetify.ReactDOM});var c=be((uo,Re)=>{Re.exports=Spicetify.ReactJSX});var Y=r(g(),1),Ve=r(re(),1);var ve=r(c(),1),u={editButton:"M17.318 1.975a3.329 3.329 0 114.707 4.707L8.451 20.256c-.49.49-1.082.867-1.735 1.103L2.34 22.94a1 1 0 01-1.28-1.28l1.581-4.376a4.726 4.726 0 011.103-1.735L17.318 1.975zm3.293 1.414a1.329 1.329 0 00-1.88 0L5.159 16.963c-.283.283-.5.624-.636 1l-.857 2.372 2.371-.857a2.726 2.726 0 001.001-.636L20.611 5.268a1.329 1.329 0 000-1.879z",settings:"M7.96 5.33a2.67 2.67 90 100 5.34 2.67 2.67 90 000-5.34ZM6.67 8A1.33 1.33 90 119.33 8 1.33 1.33 90 016.67 8Zm4.82-4.81a.95.94 90 01-1.1-.75L10.05.55A.47.47 90 009.68.17 8.1 8.1 90 006.32.17.47.47 90 005.96.55L5.61 2.44a.95.95 90 01-1.25.71L2.55 2.51a.47.47 90 00-.51.13C1.28 3.47.71 4.46.36 5.53a.47.47 90 00.14.51L1.97 7.28a.94.94 90 010 1.43L.5 9.95a.47.47 90 00-.14.51 7.98 7.98 90 001.68 2.9.47.47 90 00.51.13l1.81-.65a.94.94 90 011.25.72l.34 1.89c.04.18.18.33.37.37a8.1 8.1 90 003.36 0 .47.47 90 00.37-.37l.34-1.89a.95.95 90 011.25-.72l1.81.65c.18.06.38.01.51-.13.76-.84 1.34-1.82 1.68-2.9a.47.47 90 00-.14-.5L14.03 8.72a.94.94 90 010-1.44L15.5 6.04a.47.47 90 00.14-.5 7.98 7.98 90 00-1.68-2.9.47.47 90 00-.51-.13l-1.81.65a.95.95 90 01-.15.04Zm-8.82.78 1.25.44a2.28 2.28 90 003-1.73l.24-1.3a6.81 6.81 90 011.68 0l.24 1.3a2.28 2.28 90 003.01 1.73l1.24-.44c.34.44.63.93.84 1.44l-1 .85a2.27 2.27 90 000 3.48l1 .85a6.65 6.65 90 01-.84 1.44l-1.24-.44A2.28 2.28 90 009.08 13.32l-.24 1.29a6.8 6.8 90 01-1.69 0l-.23-1.29A2.28 2.28 90 003.91 11.59l-1.24.44a6.65 6.65 90 01-.84-1.44l1-.86a2.27 2.27 90 000-3.47l-1-.85c.21-.51.5-1 .84-1.44Z",github:"M12.2135 0C18.947 0 24.4267 5.5 24.4066 12.3041c0 5.4391-3.4983 10.0428-8.3513 11.6728-.6065.1223-.829-.265-.829-.591 0-.4072.02-1.7315.02-3.3815 0-1.1613-.384-1.8945-.829-2.2815 2.73-.3058 5.581-1.3445 5.581-6.0708 0-1.3445-.465-2.4445-1.2537-3.3.1213-.3055.5463-1.5688-.1212-3.2595 0 0-1.0312-.326-3.3567 1.263-.9707-.2648-2.0219-.4075-3.0532-.4075A11.7425 11.7425 90 009.16 6.3556c-2.3252-1.589-3.3565-1.263-3.3565-1.263-.6675 1.6907-.2427 2.954-.1215 3.2595-.7685.8555-1.2535 1.9555-1.2535 3.3 0 4.7263 2.8509 5.7855 5.5607 6.0708-.3437.3055-.6675.8555-.7685 1.65-.7077.326-2.467.8555-3.5587-1.0185 0 0-.6472-1.1815-1.8807-1.263 0 0-1.193 0-.081.7538 0 0 .809.3665 1.355 1.7925 0 0 .7075 2.2002 4.105 1.4667 0 1.0188.02 1.9965.02 2.2818 0 .3258-.2222.713-.829.5905C3.4983 22.3472 0 17.7432 0 12.3042 0 5.5 5.4597 0 12.2135 0Z",close:"M31.098 29.794 16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",warning:"M13 14V9H11v5Zm0 2H11v2h2Zm8.884 3.5A1 1 0 0121 21H3a1 1 0 01-.884-1.468l9-17c.346-.654 1.422-.654 1.768 0Z",more:"M3 8A1.5 1.5 0 110 8a1.5 1.5 0 013 0zm6.5 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM16 8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z",questionMark:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2Zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333S7.405 20.333 12 20.333 20.333 16.595 20.333 12c0-4.595-3.738-8.333-8.333-8.333ZM12 15.5a1 1 0 110 2 1 1 0 010-2Zm0-8.75a2.75 2.75 0 012.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 01-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 00-2.493-.128l-.007.128a.75.75 0 01-1.5 0A2.75 2.75 0 0112 6.75Z",dropdown:"M20.4614 6.3469a1.506 1.506 90 00-2.1125.1919L12 14.1564 5.651 6.5389a1.4997 1.4997 90 10-2.3028 1.922l7.5004 9.0004a1.4992 1.4992 90 002.3028 0l7.5004-9.0005a1.5019 1.5019 90 00-.1904-2.1139Z",palette:"M12 2c5.461 0 9.965 4.012 9.992 8.84 0 3.051-2.504 5.554-5.555 5.554H14.441a1.64 1.64 0 00-1.668 1.668c0 .473.148.836.438 1.125.257.29.437.688.437 1.125C13.648 21.254 12.926 22 12 22 6.5 22 2 17.5 2 12S6.5 2 12 2Z",duplicate:"M15 3.5c0-.5-.5-1-1-1H11V1c0-.5-.5-1-1-1H2C1.5 0 1 .5 1 1V11.5c0 .5.5 1 1 1H4.5V15c0 .5.5 1 1 1H14c.5 0 1-.5 1-1ZM2.5 2c0-.25.25-.5.5-.5H9c.25 0 .5.25.5.5v8.5c0 .25-.25.5-.5.5H3c-.25 0-.5-.25-.5-.5Zm4 12.5c-.25 0-.5-.25-.5-.5V12.5h4c.5 0 1-.5 1-1V4h2c.25 0 .5.25.5.5V14c0 .25-.25.5-.5.5Z"},x=(e,t=16)=>({size:o=t,fill:n="currentColor"})=>(0,ve.jsx)("svg",{viewBox:`0 0 ${t} ${t}`,width:o,height:o,fill:n,children:(0,ve.jsx)("path",{d:e})});u.React={editButton:x(u.editButton,24),settings:x(u.settings,16),github:x(u.github,24),close:x(u.close,32),warning:x(u.warning,24),more:x(u.more,16),questionMark:x(u.questionMark,24),dropdown:x(u.dropdown,24),palette:x(u.palette,24),duplicate:x(u.duplicate,16)};u.HTML={editButton:`<path d="${u.editButton}"/>`,settings:`<path d="${u.settings}"/>`,github:`<path d="${u.github}"/>`,close:`<path d="${u.close}"/>`,warning:`<path d="${u.warning}"/>`,more:`<path d="${u.more}"/>`,questionMark:`<path d="${u.questionMark}"/>`,dropdown:`<path d="${u.dropdown}"/>`,palette:`<path d="${u.palette}"/>`,duplicate:`<path d="${u.duplicate}"/>`};var h=u;var S=r(c(),1),M=null,K=null,se=()=>{K&&M&&(K.unmount(),M.remove(),document.body.style.overflow="auto",document.removeEventListener("keydown",Ee),document.removeEventListener("mousedown",Ie),M=null,K=null)},Ee=e=>{e.key==="Escape"&&se()},Ie=e=>{e.target.classList.contains("modal-overlay")&&se()},Ne=({title:e="",content:t,isLarge:o=!0,buttons:n=!1,icon:a=""}={})=>{M=document.getElementById("popup-modal"),M||(M=document.createElement("popup-modal"),M.id="popup-modal",document.body.appendChild(M)),K=Ve.default.createRoot(M),document.body.style.overflow="hidden",document.addEventListener("keydown",Ee),document.addEventListener("mousedown",Ie);let i=(0,Y.memo)(()=>(0,S.jsx)("div",{className:"modal-overlay",children:(0,S.jsx)("div",{className:"modal",children:(0,S.jsxs)("div",{className:`modal__container${o?" modal__container--large":""}`,children:[(0,S.jsxs)("div",{className:"modal__header",children:[(0,S.jsxs)("div",{className:"modal__titleContainer",children:[(0,S.jsx)("div",{className:"modal__icon",children:a}),(0,S.jsx)("h1",{className:"modal__title",children:e})]}),(0,S.jsxs)("div",{className:"modal__buttonContainer",children:[n,(0,S.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"Close",placement:"top",children:(0,S.jsx)("button",{className:"modal__button modal__button--close",onClick:()=>se(),children:(0,S.jsx)(h.React.close,{size:18})})})]})]}),(0,S.jsx)("div",{className:"modal__content",children:Y.default.isValidElement(t)?t:Y.default.createElement(t)})]})})}));K.render((0,S.jsx)(i,{}))};Ne.hide=se;var R=Ne;var E=r(g(),1);var B=r(c(),1),wt=()=>(0,B.jsx)("div",{className:"loading-indicator-container",children:(0,B.jsxs)("svg",{viewBox:"0 0 120 40",className:"loading-indicator",children:[(0,B.jsx)("circle",{stroke:"none",cx:"20",cy:"20",r:"8",className:"loading-indicator-circle"}),(0,B.jsx)("circle",{stroke:"none",cx:"60",cy:"20",r:"8",className:"loading-indicator-circle"}),(0,B.jsx)("circle",{stroke:"none",cx:"100",cy:"20",r:"8",className:"loading-indicator-circle"})]})}),Oe=wt;var We=r(g(),1);var Ae=r(g(),1);var ce=r(c(),1),Ct=(0,Ae.memo)(({tippy:e})=>(0,ce.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:e,placement:"top",showDelay:0,children:(0,ce.jsx)("div",{className:"info-tippy",children:(0,ce.jsx)(h.React.questionMark,{size:20,fill:"var(--spice-subtext)"})})})),Be=Ct;var $e=r(g(),1);var Se=r(c(),1),xt=(0,$e.memo)(({name:e,popupModal:t})=>t?(0,Se.jsx)("button",{className:"popup-button",onClick:()=>R({title:e,content:t,isLarge:!1}),"aria-label":"Open popup",children:(0,Se.jsx)(h.React.editButton,{size:16})}):null),De=xt;var V=r(c(),1),Mt=(0,We.memo)(({name:e,desc:t,tippy:o,children:n,popupModal:a})=>(0,V.jsxs)("div",{className:"themeOptionRow","data-name":`theme:${e}`,children:[(0,V.jsx)("div",{className:"themeOptionContent",children:(0,V.jsx)("div",{className:"themeOptionDesc",children:t})}),(0,V.jsxs)("div",{className:"themeOptionControl",children:[o&&(0,V.jsx)(Be,{tippy:o}),(0,V.jsx)(De,{name:e,popupModal:a}),n]})]})),pe=Mt;var He=r(g(),1),de=r(c(),1),Pt=(0,He.memo)(({value:e,onChange:t,disabled:o})=>(0,de.jsx)("button",{className:"toggle",onClick:t,disabled:o,children:(0,de.jsx)("span",{className:"toggle__background",children:(0,de.jsx)("span",{className:`toggle__slider${e?" toggle__slider--enabled":""}${o?" toggle__slider--disabled":""}`})})})),me=Pt;var Lt={Log:(...e)=>console.log(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#272ab0; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-left:none; border-radius:0 3px 3px 0;"),Error:(...e)=>console.error(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#ff6060; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #ee6969; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #ee6969; border-left:none; border-radius:0 3px 3px 0;"),Warn:(...e)=>console.warn(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#ee8860; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #ff8860; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #ff8860; border-left:none; border-radius:0 3px 3px 0;"),Debug:(...e)=>console.debug(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#272ab0; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-left:none; border-radius:0 3px 3px 0;")},m=Lt;var P=r(c(),1),Tt=({message:e="",keyPrefix:t="custom-notif",autoHideDuration:o=3e3,backgroundColour:n="#fff",colour:a="#000",isWarning:i=!1}={})=>{let l=i?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(h.React.warning,{size:24}),(0,P.jsx)("span",{children:e})]}):(0,P.jsx)("span",{children:e}),s=i?"#ff9800":n,p=i?"#fff":a;try{Spicetify.Snackbar.enqueueCustomSnackbar(t,{keyPrefix:t,autoHideDuration:o,children:(0,P.jsx)("div",{className:"custom-notification",style:{display:"flex",gap:"8px",alignItems:"center",color:p,backgroundColor:s,padding:"14px 16px",borderRadius:"4px",fontSize:"0.875rem"},children:l})})}catch(d){m.Error("Error displaying notification:",d)}},$=Tt;var y=r(c(),1),qe=(0,E.memo)(()=>{let[e,t]=(0,E.useState)("Loading..."),[o,n]=(0,E.useState)("Loading..."),[a,i]=(0,E.useState)(!1);(0,E.useEffect)(()=>{(async()=>{try{let d=await(await fetch("https://api.github.com/repos/veryboringhwl/spicetify/releases/latest")).json();t(d.tag_name);let f=new Date(d.published_at),C={year:"numeric",month:"long",day:"numeric"},A=f.toLocaleString("en-GB",C);n(A)}catch(p){m.Error("Error fetching latest version:",p),t("Error fetching"),n("Error fetching")}})()},[]);let l={"Current Theme Version":"v1.2.0","Newest Theme Version":e,"Last Updated":o,"Spotify Version":Spicetify.Platform.version,"Spicetify Version":Spicetify.Config.version,Platform:Spicetify.Platform.PlatformData.app_platform,OS:Spicetify.Platform.PlatformData.os_name,Theme:Spicetify.Config.current_theme,Extensions:Spicetify.Config.extensions.join(", "),"Custom apps":Spicetify.Config.custom_apps.join(", "),"Colour Scheme":Spicetify.Config.color_scheme};return(0,y.jsxs)("div",{className:"theme-version",children:[Object.entries(l).map(([s,p])=>(0,y.jsxs)("p",{className:"theme-info-item",children:[(0,y.jsxs)("span",{className:"theme-info-key encore-text-body-medium-bold",children:[s,": "]}),(0,y.jsx)("span",{className:"theme-info-value",children:p})]},s)),(0,y.jsxs)("p",{children:["Press ",(0,y.jsx)("kbd",{children:"F8"})," to pause script execution."]}),(0,y.jsx)("button",{onClick:()=>{$({autoHideDuration:1e4,message:"Debug Menu notification lolololol"})},children:"Special Button"}),(0,y.jsx)("div",{className:"loading-wrapper",children:(0,y.jsx)(Oe,{})}),(0,y.jsx)(h.React.duplicate,{size:50}),(0,y.jsx)(h.React.palette,{size:50}),(0,y.jsxs)(Spicetify.ReactComponent.Cards.Default,{id:"card-id",title:"Card Title",subtitle:"Card Subtitle",media:"https://placehold.co/100",size:"sm",onClick:()=>console.log("Card clicked"),children:[(0,y.jsx)(Spicetify.ReactComponent.Cards.Default.Body,{children:"Additional content here"}),(0,y.jsx)(Spicetify.ReactComponent.Cards.Default.Footer,{children:"Footer content"})]}),(0,y.jsx)(Spicetify.ReactComponent.TextComponent,{semanticColor:"textBase",variant:"viola",weight:"book",children:"Hello World"}),(0,y.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"Hello World",placement:"top",trigger:"mouseenter",children:(0,y.jsx)("div",{children:"Hover me"})}),(0,y.jsx)(pe,{name:"BITCH",desc:"REEEEEE",tippy:"HELLOE",popupModal:qe,children:(0,y.jsx)(me,{value:a,onChange:()=>i(!a)})})]})}),W=qe;var kt=()=>{Spicetify.Mousetrap.bind(["up up down down left right left right b a","v e r s i o n","s p o t i f y","s p i c e t i f y","d e b u g"],()=>{R({title:"Theme Version",content:W})})},Ue=kt;var _t={get(e,t){try{let o=localStorage.getItem(e);return o!=null?JSON.parse(o):t}catch(o){return console.error(`Error getting ${e} from localStorage:`,o),t}},set(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(o){return m.Error(`Error setting ${e} in localStorage:`,o),!1}}},b=_t;var je=r(g(),1);var Fe=r(g(),1),Q=r(c(),1),Rt=(0,Fe.memo)(({resetSettings:e,saveSettings:t})=>(0,Q.jsxs)("div",{className:"button-container",children:[(0,Q.jsx)("button",{className:"button-container__button button-container__button--reset",onClick:e,children:"Reset"}),(0,Q.jsx)("button",{className:"button-container__button button-container__button--save",onClick:t,children:"Save"})]})),I=Rt;var ue=r(g(),1);var H=r(g(),1);var L=r(c(),1),Vt=(0,H.memo)(({value:e,options:t,onChange:o,disabled:n})=>{let a=(0,H.useId)(),i=(0,H.useRef)(null),l=`--dropdown-anchor-${a.replace(/:/g,"id")}`,s=d=>{o?.({target:{value:d.value}}),i.current?.hidePopover()},p=t.find(d=>d.value===e)?.label||"Select...";return(0,L.jsxs)("div",{className:`dropdown${n?" dropdown--disabled":""}`,children:[(0,L.jsxs)("button",{className:"dropdown__button",popovertarget:a,popovertargetaction:"toggle",disabled:n,style:{anchorName:l},children:[(0,L.jsx)("div",{className:"dropdown__text",children:p}),(0,L.jsx)("div",{className:"dropdown__arrow",children:(0,L.jsx)(h.React.dropdown,{size:12})})]}),(0,L.jsx)("div",{popover:"auto",id:a,ref:i,className:"dropdown__menu",style:{top:`calc(anchor(${l} bottom) + 4px)`,left:`anchor(${l} left)`,width:`anchor-size(${l} width)`},children:t.map(d=>(0,L.jsx)("div",{className:`dropdown__option${e===d.value?" dropdown__option--selected":""}`,onClick:()=>s(d),children:d.label},d.value))})]})}),ze=Vt;var Ze=r(g(),1),Xe=r(c(),1),Et=(0,Ze.memo)(({value:e,onChange:t,placeholder:o,disabled:n})=>(0,Xe.jsx)("input",{className:"input",type:"text",value:e,onChange:t,placeholder:o,disabled:n})),Ge=Et;var we=r(c(),1),It=(0,ue.memo)(({option:e,value:t,onChange:o,disabled:n})=>{let a=(0,ue.useCallback)(s=>{let p=e.type==="toggle"?!t:s.target.value;o(`theme:${e.name}`,p)},[e.name,e.type,t,o]),i,l={value:t,onChange:a,disabled:n};return e.type==="toggle"?i=me:e.type==="dropdown"?(i=ze,l.options=e.options):e.type==="input"&&(i=Ge,l.placeholder=e.placeholder),(0,we.jsx)(pe,{name:e.name,desc:e.desc,tippy:e.tippy,popupModal:e.popupModal,children:(0,we.jsx)(i,{...l})})}),T=It;var U=r(g(),1);var ee=(e,t)=>{e.run?e.run(t):e.name.toLowerCase().includes("windowcontrol")?document.documentElement.style.setProperty(`--windowcontrol-${e.name.replace("WindowsControl","").toLowerCase()}`,t):document.body.classList.toggle(e.name,t)};function Nt(e,t=!0){let o={};for(let n of e){let a=t?`theme:${n.name}`:n.name;if(o[a]=b.get(a,n.defaultVal),n.reveal)for(let i of n.reveal){let l=t?`theme:${i.name}`:i.name;o[l]=o[a]?b.get(l,i.defaultVal):!1}}return o}var q=Nt;var Ot=e=>{let[t,o]=(0,U.useState)(()=>q(e,!1)),n=(0,U.useCallback)((l,s)=>{o(p=>({...p,[l]:s}))},[]),a=(0,U.useCallback)(()=>{let l=Object.fromEntries(e.map(s=>[s.name,s.defaultVal]));o(l),e.forEach(s=>{b.set(`theme:${s.name}`,s.defaultVal),ee(s,s.defaultVal)})},[e]),i=(0,U.useCallback)(()=>{Object.entries(t).forEach(([l,s])=>{b.set(`theme:${l}`,s);let p=e.find(d=>d.name===l);p&&ee(p,s)})},[t,e]);return{settings:t,updateSetting:n,resetSettings:a,saveSettings:i}},F=Ot;var te=r(c(),1),At=(0,je.memo)(()=>{let{settings:e,updateSetting:t,resetSettings:o,saveSettings:n}=F(z);return(0,te.jsxs)("div",{className:"themeModalOptions albumBannerSettings",children:[z.map(a=>(0,te.jsx)(T,{option:a,value:e[a.name],onChange:(i,l)=>t(i.replace("theme:",""),l)},a.name)),(0,te.jsx)(I,{resetSettings:o,saveSettings:n})]})}),z=[{type:"toggle",name:"AlbumBannerPage",desc:"Puts album art in places",defaultVal:!0},{type:"toggle",name:"LyricsPage",desc:"Adds Dynamic backgrounds to Lyrics Page",defaultVal:!0,tippy:"Includes Spotify Lyrics page and Spicetify's Lyrics Plus"},{type:"toggle",name:"PlaylistPage",desc:"Adds Dynamic backgrounds to your Playlist Pages",defaultVal:!0},{type:"toggle",name:"ArtistPage",desc:"Adds Dynamic backgrounds to Artist Pages",defaultVal:!0},{type:"toggle",name:"AlbumPage",desc:"Adds Dynamic backgrounds to Album Pages",defaultVal:!0},{type:"toggle",name:"MiscPage",desc:"Adds Dynamic backgrounds to Misc Pages",defaultVal:!0,tippy:"Enables album art for Station, Collection, Show, Episode, Genre, User"}],Je=At;var Ke=r(g(),1);var oe=r(c(),1),Bt=(0,Ke.memo)(()=>{let{settings:e,updateSetting:t,resetSettings:o,saveSettings:n}=F(Z);return(0,oe.jsxs)("div",{className:"themeModalOptions windowsControlSettings",children:[Z.map(a=>(0,oe.jsx)(T,{option:a,value:e[a.name],onChange:(i,l)=>t(i.replace("theme:",""),l)},a.name)),(0,oe.jsx)(I,{resetSettings:o,saveSettings:n})]})}),Z=[{type:"input",name:"uifont",desc:"Changes the font of the Spotify app",defaultVal:"Segoe UI Variable Display",tippy:"This will only work if you have the font installed",popupModal:Bt,run(e){document.documentElement.style.setProperty("--FontFamily",e)}}];var Ye=r(g(),1);var N=r(c(),1),$t=(0,Ye.memo)(()=>{let{settings:e,updateSetting:t,resetSettings:o,saveSettings:n}=F(G);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"themeModalOptions windowsControlSettings",children:G.map(a=>(0,N.jsx)(T,{option:a,value:e[a.name],onChange:(i,l)=>t(i.replace("theme:",""),l)},a.name))}),(0,N.jsx)(I,{resetSettings:o,saveSettings:n})]})}),G=[{type:"toggle",name:"WindowsControl",desc:"Enable custom Windows Controls",defaultVal:!1,run:e=>{document.body.classList.toggle("WindowsControl",e)}},{type:"toggle",name:"HideWindowsControl",desc:"Removes Spotifys Windows Controls completely",defaultVal:!1,run:e=>{let t=document.querySelector(".CCIGxtpAreSdwWRo14FE"),o=document.querySelector(".main-topBar-topbarContentRight");e?(Spicetify.Platform.ControlMessageAPI._updateUiClient.setButtonsVisibility({showButtons:!1}),Spicetify.Platform.ControlMessageAPI._updateUiClient.updateTitlebarHeight({height:1}),t&&(t.style.display="none"),o&&(o.style.paddingRight="8px")):(Spicetify.Platform.ControlMessageAPI._updateUiClient.setButtonsVisibility({showButtons:!0}),Spicetify.Platform.ControlMessageAPI._updateUiClient.updateTitlebarHeight({height:64}),t&&(t.style.display=""),o&&(o.style.paddingRight=""))}},{type:"input",name:"WindowsControlBrightness",desc:"Set Brightness",defaultVal:"2.12",run:e=>document.documentElement.style.setProperty("--windowcontrol-brightness",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlWidth",desc:"Set Width",defaultVal:"135px",run:e=>document.documentElement.style.setProperty("--windowcontrol-width",e)},{type:"input",name:"WindowsControlHeight",desc:"Set Height",defaultVal:"32px",run:e=>document.documentElement.style.setProperty("--windowcontrol-height",e)}],Qe=$t;var Dt=async e=>{if(e==="default"){document.querySelector("style.customColourScheme")?.remove();return}let t=await fetch("https://raw.githubusercontent.com/veryboringhwl/spicetify/main/dist/color.ini");if(!t.ok){$({isWarning:!0,autoHideDuration:1e4,message:"Unable to fetch the colour scheme options. You won't be able to change the colour scheme using the settings menu."});return}let n=(await t.text()).split(/[\r\n]+/).reduce((l,s)=>{let p=s.trim();if(p.startsWith(";"))return l;let d=p.match(/^\[([^\]]+)\]$/);if(d)return l[d[1]]={},l;let f=p.match(/^([^=]+?)\s*=\s*(.+)$/);if(f){let[,C,A]=f,Le=Object.keys(l).pop();Le&&(l[Le][C]=A.split(";")[0].trim())}return l},{}),a=`${Object.entries(n[e]).reduce((l,[s,p])=>{let d=p.length===3?p.split("").map(f=>Number.parseInt(f+f,16)).join(", "):p.match(/\w\w/g).map(f=>Number.parseInt(f,16)).join(", ");return`${l}--spice-${s}:#${p};--spice-rgb-${s}:${d};`},":root{")}}`,i=document.querySelector("style.customColourScheme");i||(i=document.createElement("style"),i.classList.add("customColourScheme"),document.body.appendChild(i)),i.textContent=a},et=Dt;var Wt=async()=>{for(;!Spicetify.Player.data?.item;)await new Promise(n=>setTimeout(n,10));let e={Album:{regex:/^\/album\//,key:"theme:AlbumPage"},Artist:{regex:/^\/artist\/(?!artists\b)\w+$/,key:"theme:ArtistPage"},Lyrics:{regex:/^\/lyrics$/,key:"theme:LyricsPage"},LyricsPlus:{regex:/^\/lyrics-plus$/,key:"theme:LyricsPage"},Playlist:{regex:/^\/playlist\//,key:"theme:PlaylistPage"},Station:{regex:/^\/station\/playlist\//,key:"theme:MiscPage"},Collection:{regex:/^\/collection\/tracks$/,key:"theme:MiscPage"},Show:{regex:/^\/show\//,key:"theme:MiscPage"},Episode:{regex:/^\/episode\//,key:"theme:MiscPage"},User:{regex:/^\/user\/(?!users\b)\w+$/,key:"theme:MiscPage"},Genre:{regex:/^\/genre\//,key:"theme:MiscPage"}},t=document.querySelector(".banner-image")||(()=>{let n=document.createElement("div");return n.className="banner-image",document.querySelector(".under-main-view")?.appendChild(n),n})(),o=()=>{let n=Spicetify.Player.data?.item?.metadata?.image_xlarge_url;if(Object.values(e).some(({regex:i,key:l})=>b.get(l,!1)&&i.test(Spicetify.Platform.History.location.pathname))){t.style.display="";let i=new Image;i.src=n,i.onload=()=>document.documentElement.style.setProperty("--image",`url(${n})`)}else t.style.display="none"};Spicetify.Platform.History.listen(o),Spicetify.Player.addEventListener("songchange",o),o()},tt=Wt;var Ht=async e=>{if(!Spicetify.Platform.ProductStateAPI.productStateApi)return;let t={default:{"app-developer":"0"},developer:{"app-developer":"2"}},o=t[e]||t.default,n=async(a,i)=>(await Spicetify.Platform.ProductStateAPI.productStateApi.putValues({pairs:{[a]:i}}),Spicetify.Platform.ProductStateAPI.productStateApi.subValues({keys:[a]},async l=>{l[a]!==i&&await Spicetify.Platform.ProductStateAPI.productStateApi.putValues({pairs:{[a]:i}})}));window.appDevListener?.cancel(),window.appDevListener=await n("app-developer",o["app-developer"])},ot=Ht;var qt=async(e,t=50)=>{let o=1;for(;!document.querySelector(e)&&o<t;)o=o+1,await new Promise(n=>setTimeout(n,100));return document.querySelector(e)||null},X=qt;var ne=null,ae=null;function Ut(e){zt(),e&&Ft()}async function Ft(){let e=await X(".Root__globalNav"),t=()=>{let n=e.querySelectorAll(".main-globalNav-navLink, ._b3hhmbWtOY8_1M1mM1H");for(let a of n)if(!a.querySelector(".main-globalNav-iconText")){let i=a.getAttribute("aria-label")||(a.querySelector("input")?"Search":""),l=document.createElement("div");l.className="main-globalNav-iconText encore-text-body-medium-bold",l.textContent=i,a.appendChild(l)}};t(),ne=new MutationObserver(t),ne.observe(e,{childList:!0,subtree:!0});let o=()=>{let n=Spicetify.Platform.LocalStorageAPI.getItem("left-sidebar-state");document.body.classList.toggle("collapsed",n===1)};ae=n=>{n.data.key==="left-sidebar-state"&&o()},Spicetify.Platform.LocalStorageAPI.getEvents().addListener("update",ae),o()}function zt(){document.body.classList.remove("collapsed"),ne&&(ne.disconnect(),ne=null),ae&&(m.Log("Removing sidebar state listener"),Spicetify.Platform.LocalStorageAPI.getEvents().removeListener("update",ae),ae=null);let e=document.querySelectorAll(".main-globalNav-iconText");for(let t of e)t.remove()}var nt=Ut;var ie=null,le=null;async function Zt(e){Xt(),e&&Gt()}async function Gt(){let e=await X(".Root__globalNav"),t=()=>{let n=document.querySelectorAll(".main-globalNav-navLink, ._b3hhmbWtOY8_1M1mM1H");for(let a of n)if(!a.querySelector(".main-globalNav-iconText")){let i=a.getAttribute("aria-label")||(a.querySelector("input")?"Search":""),l=document.createElement("div");l.className="main-globalNav-iconText encore-text-body-medium-bold",l.textContent=i,a.appendChild(l)}};t(),ie=new MutationObserver(t),ie.observe(e,{childList:!0,subtree:!0});let o=()=>{let n=Spicetify.Platform.LocalStorageAPI.getItem("left-sidebar-state");document.body.classList.toggle("collapsed",n===1)};le=n=>{n.data.key==="left-sidebar-state"&&o()},Spicetify.Platform.LocalStorageAPI.getEvents().addListener("update",le),o()}function Xt(){document.body.classList.remove("collapsed"),ie&&(m.Log("Removing libx observer"),ie.disconnect(),ie=null),le&&(m.Log("Removing sidebar state listener"),Spicetify.Platform.LocalStorageAPI.getEvents().removeListener("update",le),le=null);let e=document.querySelectorAll(".main-globalNav-iconText");for(let t of e)t.remove()}var at=Zt;var jt=async e=>{let t=await X(".main-nowPlayingBar-volumeBar"),o=()=>{let n=t.querySelector(".vol-input");n&&(n.value=Math.round(Spicetify.Player.getVolume()*100))};if(e){if(!t.querySelector(".vol-percent")){t.insertAdjacentHTML("beforeend",`
							<div class="vol-percent" style="display: inline-flex; align-items: center;">
									<input type="text" class="vol-input" 
											style="width: 30px; font-size: 15px; border: none; background: transparent; text-align: right;">
									<span style="font-size: 15px;">%</span>
							</div>
					`),t.style.flex="0 1 200px";let n=t.querySelector(".vol-input");n.addEventListener("change",()=>{let a=Number.parseInt(n.value,10);a>=0&&a<=100&&Spicetify.Player.setVolume(a/100)}),Spicetify.Platform.PlaybackAPI._events.addListener("volume",o),o()}}else{let n=document.querySelector(".main-nowPlayingBar-volumeBar");n&&(n.querySelector(".vol-percent")?.remove(),n.style.flex="",Spicetify.Platform.PlaybackAPI._events.removeListener("volume",o))}},it=jt;var Jt={Features:[{type:"dropdown",name:"colourschemeselector",desc:"Change the colour scheme of Spotify",defaultVal:"default",options:[{value:"default",label:"Default"},{value:"dark",label:"Dark"},{value:"light",label:"Light"},{value:"bloom",label:"Bloom"},{value:"spotify",label:"Spotify"}],tippy:"Default uses the colour scheme set in config-xpui.ini",run(e){et(e)}},{type:"dropdown",name:"change-Spotify-mode",desc:"Change Spotify mode",defaultVal:"default",tippy:"Only takes effect after a restart",options:[{value:"default",label:"Default"},{value:"developer",label:"Developer"},{value:"employee",label:"Employee"},{value:"both",label:"Dev + Empl"}],run(e){ot(e)}},{type:"input",name:"ZoomLevel",desc:"Change the zoom level of Spotify page",defaultVal:100,placeholder:"100%",run(e){let t=e/100;document.documentElement.style.setProperty("--Zoomlevel",t)}},{type:"toggle",name:"AlbumBannerPage",desc:"Put album cover art in various pages",defaultVal:!0,popupModal:Je,run(e){tt(e)}},{type:"toggle",name:"VolumePercentage",desc:"Show volume percentage next to volume slider",defaultVal:!0,run(e){it(e)}},{type:"toggle",name:"WindowsControl",desc:"Adjust the position and brightness of the windows controls",defaultVal:!1,tippy:"This will override the themes default windows controls",popupModal:Qe},{type:"input",name:"uifont",desc:"Changes the font of the Spotify app",defaultVal:"SpotifyMixUI",placeholder:"SpotifyMixUI",tippy:"This will only work if you have the font installed locally",run(e){document.documentElement.style.setProperty("--FontFamily",e)}}],Layouts:[{type:"toggle",name:"LibX",desc:"Restore the old UI >2024 (Pre Global Nav Bar)",defaultVal:!1,incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",run(e){at(e)},reveal:[{type:"toggle",name:"highlightnav",desc:"Adds highlight to the selected page",defaultVal:!0},{type:"toggle",name:"PreLibX",desc:"Restore the old UI >2023 (Pre LibraryX)",defaultVal:!1},{type:"toggle",name:"CompactLib",desc:"Makes library compact while keeping icons",defaultVal:!1,tippy:"Broken if library is collapsed"}]},{type:"toggle",name:"AppleMusic",desc:"Changes the UI to look like Apple Music",defaultVal:!1,incompatible:["LibX","switchlayout","TestLayout","greenicon"],tippy:"Incompatible with LibX, Switchlayout, greenicon and testlayout",run(e){nt(e)}},{type:"toggle",name:"TestLayout",desc:"Rearrange playbutton to start and cover art to middle",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0},{type:"toggle",name:"switchlayout",desc:"Uses different grid layout for Now playing bar",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0}],Snippets:[{type:"toggle",name:"hidetracklistnum",desc:"Hide tracklist numbers in various pages",defaultVal:!0},{type:"toggle",name:"greenicon",desc:"Make the selected tab icon green",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0},{type:"toggle",name:"transplayicon",desc:"Make the play/pause button transparent",defaultVal:!0},{type:"toggle",name:"npvlargerlyrics",desc:"Show lyrics only in Now playing view",defaultVal:!1},{type:"toggle",name:"homeheader",desc:"Remove the coloured gradient from the home page header",defaultVal:!0}],Test:[{type:"toggle",name:"test-toggle",desc:"test-toggle",defaultVal:!0,popupModal:W,incompatible:["test-incompatible-toggle","test-incompatible-input","test-incompatible-dropdown"],tippy:"Incompatible with test-incompatible",run(e){console.log("test-toggle set to ",e)}},{type:"toggle",name:"test-incompatible-toggle",desc:"test-incompatible-toggle",defaultVal:!0},{type:"input",name:"test-incompatible-input",desc:"test-incompatible-input",defaultVal:1,placeholder:"does something"},{type:"dropdown",name:"test-incompatible-dropdown",desc:"test-incompatible-dropdown",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}]},{type:"input",name:"test-input",desc:"test-input",defaultVal:1,placeholder:"does something"},{type:"dropdown",name:"test-dropdown",desc:"test-dropdown",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}]},{type:"toggle",name:"test-reveal",desc:"test-reveal",defaultVal:!0,reveal:[{type:"toggle",name:"revealed-toggle",desc:"revealed-toggle",defaultVal:!0},{type:"input",name:"revealed-input",desc:"revealed-input",defaultVal:!0},{type:"dropdown",name:"revealed-dropdown",desc:"revealed-dropdown",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}]}]}]},w=Jt;var Kt=(e,t=[])=>{try{Object.values(w).flat().forEach(({name:o,type:n,reveal:a,run:i})=>{let l=`theme:${o}`,s=e[l];n==="toggle"&&document.body.classList.toggle(o,s),a&&a.forEach(({name:p,type:d})=>{d==="toggle"&&document.body.classList.toggle(p,s&&e[`theme:${p}`])}),t.includes(l)&&i&&i(s)})}catch(o){m.Error("Failed to apply options:",o)}},j=Kt;var Yt=()=>{m.Log("Initialising options");let e=q(Object.values(w).flat()),t=[...Object.values(w).flat(),...G,...z,...Z];return t.forEach(o=>{let n=`theme:${o.name}`;localStorage.getItem(n)===null&&b.set(n,o.defaultVal),o.reveal&&o.reveal.forEach(a=>{let i=`theme:${a.name}`;localStorage.getItem(i)===null&&b.set(i,e[n]?a.defaultVal:!1)})}),t.forEach(o=>{let n=`theme:${o.name}`,a=b.get(n,o.defaultVal);ee(o,a)}),j(e),e},lt=Yt;var Na=r(g(),1),ut=r(re(),1);var Ce=r(g(),1),rt=r(re(),1),fe=r(c(),1);function Qt({titleText:e,descriptionText:t,cancelText:o="Cancel",confirmText:n="Confirm",onConfirm:a,onClose:i,onOpen:l,onOutside:s,allowHTML:p}){let d=Ce.default.memo(()=>{let[f,C]=Spicetify.React.useState(!0),A=document.querySelector(".ReactModalPortal:last-of-type");return Ce.default.useEffect(()=>{f&&l?.()},[f,l]),(0,fe.jsx)(Spicetify.ReactComponent.RemoteConfigProvider,{configuration:Spicetify.Platform.RemoteConfiguration,children:(0,fe.jsx)(Spicetify.ReactComponent.ConfirmDialog,{titleText:e,descriptionText:t,cancelText:o,confirmText:n,isOpen:f,onOutside:()=>{C(!1),s?.(),A?.remove()},onClose:()=>{C(!1),i?.(),A?.remove()},onConfirm:()=>{C(!1),a?.(),A?.remove()},allowHTML:p})})});rt.default.createRoot(document.createElement("div")).render((0,fe.jsx)(d,{}))}var ge=Qt;var eo={Reload:()=>{location.reload()},Restart:()=>{Spicetify.Platform.UpdateAPI.applyUpdate()}},xe=eo;var O=r(g(),1);var J=r(g(),1),Me=r(c(),1),to=(0,J.memo)(({categories:e,selectedCategory:t,onSelectCategory:o})=>{let n=(0,J.useRef)(null);return(0,J.useEffect)(()=>{let a=l=>{n.current&&(n.current.scrollLeft+=l.deltaY,l.preventDefault())},i=n.current;return i?.addEventListener("wheel",a,{passive:!1}),()=>i?.removeEventListener("wheel",a)},[]),(0,Me.jsx)("div",{className:"carousel",ref:n,children:e.map(a=>(0,Me.jsx)("button",{className:`carousel__button ${t===a?"carousel__button--active":""}`,onClick:()=>o(a),children:a},a))})}),st=to;var ye=r(g(),1);var k=r(c(),1),oo=Object.values(w).flat(),no=(0,ye.memo)(({category:e,categoryOptions:t,settings:o,onChange:n})=>(0,k.jsxs)("div",{className:`option__category option__category--${e.toLowerCase()}`,children:[(0,k.jsx)("h2",{className:"option__category-title",children:e}),t.map(a=>{let i=o[`theme:${a.name}`],l=oo.some(s=>s.incompatible?.includes(a.name)&&o[`theme:${s.name}`]);return(0,k.jsxs)(ye.default.Fragment,{children:[(0,k.jsx)("div",{className:"option__item--main",children:(0,k.jsx)(T,{option:a,value:i,onChange:n,disabled:l})}),i&&a.reveal&&(0,k.jsx)("div",{className:"option__item--revealed",children:a.reveal.map(s=>(0,k.jsx)(T,{option:s,value:o[`theme:${s.name}`],onChange:n,disabled:l},s.name))})]},a.name)})]})),ct=no;var he=r(g(),1);var ao=e=>{ge({titleText:"Are you sure?",descriptionText:"This will reset all settings to default!",confirmText:"Reset",onConfirm:()=>{try{m.Log("Resetting settings");let t=[...Object.values(w).flat(),...z,...Z,...G],o={};t.forEach(n=>{let a=`theme:${n.name}`;o[a]=n.defaultVal,n.reveal&&n.reveal.forEach(i=>{o[`theme:${i.name}`]=n.defaultVal?i.defaultVal:!1})}),Object.entries(o).forEach(([n,a])=>{b.set(n,a)}),e(o),j(o,Object.keys(o))}catch(t){m.Error("Failed to reset settings:",t)}}})},pt=ao;var io=e=>{try{let t=[];return Object.entries(e).forEach(([o,n])=>{let a=b.get(o,null);JSON.stringify(a)!==JSON.stringify(n)&&(b.set(o,n),t.push(o))}),t.length>0&&(m.Log(`Saving settings: ${t.join(", ")}`),j(e,t)),e}catch(t){return m.Error("Failed to save settings:",t),e}},dt=io;var lo=()=>{let e=Object.values(w).flat(),[t,o]=(0,he.useState)(()=>q(e)),n=(0,he.useCallback)((a,i)=>{o(l=>{let s={...l,[a]:i},p=a.replace("theme:",""),d=e.find(f=>f.name===p);return d?.reveal&&d.reveal.forEach(f=>{let C=`theme:${f.name}`;i?s[C]=f.defaultVal:s[C]=!1}),i&&d?.incompatible&&d.incompatible.forEach(f=>{s[`theme:${f}`]=!1}),s})},[e]);return{settings:t,handleSettingChange:n,resetSettings:()=>pt(o),saveSettings:()=>{let a=dt(t);o(a)}}},mt=lo;var _=r(c(),1),ro=(0,O.memo)(()=>{let{settings:e,handleSettingChange:t,resetSettings:o,saveSettings:n}=mt(),a=["All",...Object.keys(w)],[i,l]=(0,O.useState)("All"),s=(0,O.useCallback)(d=>{l(d)},[]),p=(0,O.useMemo)(()=>i==="All"?Object.entries(w):Object.entries(w).filter(([d])=>d===i),[i]);return(0,_.jsxs)("div",{className:"settings-menu",children:[(0,_.jsx)("div",{className:"settings-menu__carousel",children:(0,_.jsx)(st,{categories:a,selectedCategory:i,onSelectCategory:s})}),(0,_.jsx)("div",{className:"settings-menu__options",children:p.map(([d,f])=>(0,_.jsx)(ct,{category:d,categoryOptions:f,settings:e,onChange:t},d))}),(0,_.jsx)("div",{className:"settings-menu__buttons",children:(0,_.jsx)(I,{resetSettings:o,saveSettings:n})})]})}),Pe=ro;var v=r(c(),1),so=()=>{let e="settings-menu-popover",t=document.getElementById(e),o=()=>{t?.hidePopover?.()},n=i=>{i.preventDefault(),t?.showPopover?.()};t||(t=document.createElement("div"),t.id=e,t.style.top="calc(anchor(--SettingsButton bottom) + 8px)",t.style.left="anchor(--SettingsButton left)",t.style.background="transparent",t.style.overflow="visible",t.popover="auto",document.body.appendChild(t),ut.default.createRoot(t).render((0,v.jsxs)(Spicetify.ReactComponent.Menu,{children:[(0,v.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{xe.Reload(),o()},leadingIcon:(0,v.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.repeat}}),children:"Reload theme"},"reload-theme"),(0,v.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{xe.Restart(),o()},leadingIcon:(0,v.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.locked}}),divider:"after",children:"Restart Spotify"},"restart-spotify"),(0,v.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{ge({titleText:"Confirm Dialog",descriptionText:"Are you <b>sure</b>?",onOutside:()=>Spicetify.showNotification("Clicked outside"),confirmLabel:"Ok",allowHTML:!0}),o()},leadingIcon:(0,v.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.check}}),divider:"after",children:"Confirm Dialog"},"confirm-dialog"),(0,v.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{R({title:"Theme Settings",content:Pe}),o()},leadingIcon:(0,v.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.subtitles}}),children:"Theme Settings"},"theme-settings-menu"),(0,v.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{R({title:"Debug Menu",content:W}),o()},leadingIcon:(0,v.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.menu}}),children:"Debug Menu"},"debug-menu")]})));let a=new Spicetify.Topbar.Button("Theme Settings",`<svg viewBox="0 0 16 16" width="16px" height="16px" fill="currentColor">${h.HTML.settings}</svg>`,()=>{R({title:"Theme Settings",content:Pe,buttons:(0,v.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"GitHub",placement:"top",children:(0,v.jsx)("button",{type:"button",className:"Modal__button Modal__button--github",onClick:()=>window.open("https://github.com/veryboringhwl/spicetify"),children:(0,v.jsx)(h.React.github,{size:18})})}),icon:(0,v.jsx)(h.React.settings,{size:30})})},!1,!0);return a.element.oncontextmenu=n,a.element.style.anchorName="--SettingsButton",a},ft=so;var D=r(c(),1);(async function(){await Promise.race([(async()=>{for(await new Promise(p=>Spicetify.Events.webpackLoaded.on(p));!(Spicetify.Snackbar.enqueueCustomSnackbar&&Spicetify.Snackbar.enqueueSnackbar);)await new Promise(p=>setTimeout(p,100))})(),new Promise((p,d)=>setTimeout(()=>d("Initialization timeout"),5e3))]).catch(p=>{console.log(`${p}: Failed to initialize after ${5e3/1e3} seconds. Some features may not work.`),$({autoHideDuration:1e4,isWarning:!0,message:(0,D.jsxs)("span",{children:[p,": Failed to initialize after ",5e3/1e3," seconds. Some features may not work."]})})}),m.Log("Spicetify theme initialising"),Spicetify.Mousetrap.bind(["escape"],()=>{Spicetify.PopupModal.hide()});let o=62,n=64,[a,i,l]=Spicetify.Platform.version.split(".").map(Number);l>=o&&l<=n||$({autoHideDuration:5e3,isWarning:!0,message:(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("span",{children:["Theme supports Spotify v",a,".",i,".",o," to v",a,".",i,".",n,". Your version: ",a,".",i,".",l]})})}),Ue(),ft(),lt(),m.Log("Spicetify theme initialised")})();
