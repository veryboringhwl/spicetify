(async function() {
        while (!Spicetify.React || !Spicetify.ReactDOM) {
          await new Promise(resolve => setTimeout(resolve, 1));
        }
var Mt=Object.create;var Ae=Object.defineProperty;var Rt=Object.getOwnPropertyDescriptor;var kt=Object.getOwnPropertyNames;var Et=Object.getPrototypeOf,It=Object.prototype.hasOwnProperty;var Me=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Vt=(e,t,o,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of kt(t))!It.call(e,n)&&n!==o&&Ae(e,n,{get:()=>t[n],enumerable:!(i=Rt(t,n))||i.enumerable});return e};var l=(e,t,o)=>(o=e!=null?Mt(Et(e)):{},Vt(t||!e||!e.__esModule?Ae(o,"default",{value:e,enumerable:!0}):o,e));var v=Me((Io,Oe)=>{Oe.exports=Spicetify.React});var ge=Me((Vo,Be)=>{Be.exports=Spicetify.ReactDOM});var p=Me((To,De)=>{De.exports=Spicetify.ReactJSX});var ce=l(v(),1),$e=l(ge(),1);var Re=l(p(),1),g={editButton:"M17.318 1.975a3.329 3.329 0 114.707 4.707L8.451 20.256c-.49.49-1.082.867-1.735 1.103L2.34 22.94a1 1 0 01-1.28-1.28l1.581-4.376a4.726 4.726 0 011.103-1.735L17.318 1.975zm3.293 1.414a1.329 1.329 0 00-1.88 0L5.159 16.963c-.283.283-.5.624-.636 1l-.857 2.372 2.371-.857a2.726 2.726 0 001.001-.636L20.611 5.268a1.329 1.329 0 000-1.879z",settings:"M7.96 5.33a2.67 2.67 90 100 5.34 2.67 2.67 90 000-5.34ZM6.67 8A1.33 1.33 90 119.33 8 1.33 1.33 90 016.67 8Zm4.82-4.81a.95.94 90 01-1.1-.75L10.05.55A.47.47 90 009.68.17 8.1 8.1 90 006.32.17.47.47 90 005.96.55L5.61 2.44a.95.95 90 01-1.25.71L2.55 2.51a.47.47 90 00-.51.13C1.28 3.47.71 4.46.36 5.53a.47.47 90 00.14.51L1.97 7.28a.94.94 90 010 1.43L.5 9.95a.47.47 90 00-.14.51 7.98 7.98 90 001.68 2.9.47.47 90 00.51.13l1.81-.65a.94.94 90 011.25.72l.34 1.89c.04.18.18.33.37.37a8.1 8.1 90 003.36 0 .47.47 90 00.37-.37l.34-1.89a.95.95 90 011.25-.72l1.81.65c.18.06.38.01.51-.13.76-.84 1.34-1.82 1.68-2.9a.47.47 90 00-.14-.5L14.03 8.72a.94.94 90 010-1.44L15.5 6.04a.47.47 90 00.14-.5 7.98 7.98 90 00-1.68-2.9.47.47 90 00-.51-.13l-1.81.65a.95.95 90 01-.15.04Zm-8.82.78 1.25.44a2.28 2.28 90 003-1.73l.24-1.3a6.81 6.81 90 011.68 0l.24 1.3a2.28 2.28 90 003.01 1.73l1.24-.44c.34.44.63.93.84 1.44l-1 .85a2.27 2.27 90 000 3.48l1 .85a6.65 6.65 90 01-.84 1.44l-1.24-.44A2.28 2.28 90 009.08 13.32l-.24 1.29a6.8 6.8 90 01-1.69 0l-.23-1.29A2.28 2.28 90 003.91 11.59l-1.24.44a6.65 6.65 90 01-.84-1.44l1-.86a2.27 2.27 90 000-3.47l-1-.85c.21-.51.5-1 .84-1.44Z",github:"M12.2135 0C18.947 0 24.4267 5.5 24.4066 12.3041c0 5.4391-3.4983 10.0428-8.3513 11.6728-.6065.1223-.829-.265-.829-.591 0-.4072.02-1.7315.02-3.3815 0-1.1613-.384-1.8945-.829-2.2815 2.73-.3058 5.581-1.3445 5.581-6.0708 0-1.3445-.465-2.4445-1.2537-3.3.1213-.3055.5463-1.5688-.1212-3.2595 0 0-1.0312-.326-3.3567 1.263-.9707-.2648-2.0219-.4075-3.0532-.4075A11.7425 11.7425 90 009.16 6.3556c-2.3252-1.589-3.3565-1.263-3.3565-1.263-.6675 1.6907-.2427 2.954-.1215 3.2595-.7685.8555-1.2535 1.9555-1.2535 3.3 0 4.7263 2.8509 5.7855 5.5607 6.0708-.3437.3055-.6675.8555-.7685 1.65-.7077.326-2.467.8555-3.5587-1.0185 0 0-.6472-1.1815-1.8807-1.263 0 0-1.193 0-.081.7538 0 0 .809.3665 1.355 1.7925 0 0 .7075 2.2002 4.105 1.4667 0 1.0188.02 1.9965.02 2.2818 0 .3258-.2222.713-.829.5905C3.4983 22.3472 0 17.7432 0 12.3042 0 5.5 5.4597 0 12.2135 0Z",close:"M31.098 29.794 16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",warning:"M13 14V9H11v5Zm0 2H11v2h2Zm8.884 3.5A1 1 0 0121 21H3a1 1 0 01-.884-1.468l9-17c.346-.654 1.422-.654 1.768 0Z",more:"M3 8A1.5 1.5 0 110 8a1.5 1.5 0 013 0zm6.5 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM16 8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z",questionMark:"M8 13.6875a5.6875 5.6875 90 110-11.375 5.6875 5.6875 90 010 11.375zM1 8a7 7 90 1014 0A7 7 90 001 8zm6.3438-.875V11.5h1.3125V7.125H7.3438zm0-2.6478v1.3125h1.3125V4.4772H7.3438z",dropdown:"M20.4614 6.3469a1.506 1.506 90 00-2.1125.1919L12 14.1564 5.651 6.5389a1.4997 1.4997 90 10-2.3028 1.922l7.5004 9.0004a1.4992 1.4992 90 002.3028 0l7.5004-9.0005a1.5019 1.5019 90 00-.1904-2.1139Z",palette:"M12 2c5.461 0 9.965 4.012 9.992 8.84 0 3.051-2.504 5.554-5.555 5.554H14.441a1.64 1.64 0 00-1.668 1.668c0 .473.148.836.438 1.125.257.29.437.688.437 1.125C13.648 21.254 12.926 22 12 22 6.5 22 2 17.5 2 12S6.5 2 12 2Z",duplicate:"M15 3.5c0-.5-.5-1-1-1H11V1c0-.5-.5-1-1-1H2C1.5 0 1 .5 1 1V11.5c0 .5.5 1 1 1H4.5V15c0 .5.5 1 1 1H14c.5 0 1-.5 1-1ZM2.5 2c0-.25.25-.5.5-.5H9c.25 0 .5.25.5.5v8.5c0 .25-.25.5-.5.5H3c-.25 0-.5-.25-.5-.5Zm4 12.5c-.25 0-.5-.25-.5-.5V12.5h4c.5 0 1-.5 1-1V4h2c.25 0 .5.25.5.5V14c0 .25-.25.5-.5.5Z"},M=(e,t=16)=>({size:o=t,fill:i="currentColor"})=>(0,Re.jsx)("svg",{viewBox:`0 0 ${t} ${t}`,width:o,height:o,fill:i,children:(0,Re.jsx)("path",{d:e})});g.React={editButton:M(g.editButton,24),settings:M(g.settings,16),github:M(g.github,24),close:M(g.close,32),warning:M(g.warning,24),more:M(g.more,16),questionMark:M(g.questionMark,16),dropdown:M(g.dropdown,24),palette:M(g.palette,24),duplicate:M(g.duplicate,16)};g.HTML={editButton:`<path d="${g.editButton}"/>`,settings:`<path d="${g.settings}"/>`,github:`<path d="${g.github}"/>`,close:`<path d="${g.close}"/>`,warning:`<path d="${g.warning}"/>`,more:`<path d="${g.more}"/>`,questionMark:`<path d="${g.questionMark}"/>`,dropdown:`<path d="${g.dropdown}"/>`,palette:`<path d="${g.palette}"/>`,duplicate:`<path d="${g.duplicate}"/>`};var d=g;var N=l(p(),1),E=null,re=null,ve=()=>{re&&E&&(re.unmount(),E.remove(),document.body.style.overflow="auto",document.removeEventListener("keydown",He),document.removeEventListener("mousedown",ze),E=null,re=null)},He=e=>{e.key==="Escape"&&ve()},ze=e=>{e.target.classList.contains("modal-overlay")&&ve()},qe=({title:e="",content:t,isLarge:o=!0,buttons:i=!1,icon:n=""}={})=>{E=document.getElementById("popup-modal"),E||(E=document.createElement("popup-modal"),E.id="popup-modal",document.body.appendChild(E)),re=$e.default.createRoot(E),document.body.style.overflow="hidden",document.addEventListener("keydown",He),document.addEventListener("mousedown",ze);let s=(0,ce.memo)(()=>(0,N.jsx)("div",{className:"modal-overlay",children:(0,N.jsx)("div",{className:"modal",children:(0,N.jsxs)("div",{className:`modal__container${o?" modal__container--large":""}`,children:[(0,N.jsxs)("div",{className:"modal__header",children:[(0,N.jsxs)("div",{className:"modal__titleContainer",children:[(0,N.jsx)("div",{className:"modal__icon",children:n}),(0,N.jsx)("h1",{className:"modal__title",children:e})]}),(0,N.jsxs)("div",{className:"modal__buttonContainer",children:[i,(0,N.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"Close",placement:"top",children:(0,N.jsx)("button",{className:"modal__button modal__button--close",onClick:()=>ve(),children:(0,N.jsx)(d.React.close,{size:18})})})]})]}),(0,N.jsx)("div",{className:"modal__content",children:ce.default.isValidElement(t)?t:ce.default.createElement(t)})]})})}));re.render((0,N.jsx)(s,{}))};qe.hide=ve;var R=qe;var pe=l(v(),1);var Z=l(v(),1);var I=l(p(),1),Tt=(0,Z.memo)(({value:e,options:t,onChange:o,disabled:i})=>{let n=(0,Z.useId)(),s=(0,Z.useRef)(null),r=`--dropdown-anchor-${n.replace(/:/g,"id")}`,c=m=>{o?.(m.value),s.current?.hidePopover()},u=t.find(m=>m.value===e)?.label||"Select...";return(0,I.jsxs)("div",{className:`dropdown ${i?"dropdown--disabled":""}`,children:[(0,I.jsxs)("button",{className:"dropdown__button",popovertarget:n,popovertargetaction:"toggle",disabled:i,style:{anchorName:r},children:[(0,I.jsx)("div",{className:"dropdown__text",children:u}),(0,I.jsx)("div",{className:"dropdown__arrow",children:(0,I.jsx)(d.React.dropdown,{size:12})})]}),(0,I.jsx)("div",{popover:"auto",id:n,ref:s,className:"dropdown__menu",style:{top:`calc(anchor(${r} bottom) + 4px)`,left:`anchor(${r} left)`,width:`anchor-size(${r} width)`},children:t.map(m=>(0,I.jsx)("div",{className:`dropdown__option${e===m.value?" dropdown__option--selected":""}`,onClick:()=>c(m),children:m.label},m.value))})]})}),ye=Tt;var Ue=l(v(),1),We=l(p(),1),At=(0,Ue.memo)(({value:e,onChange:t,placeholder:o,disabled:i})=>(0,We.jsx)("input",{className:"input",type:"text",value:e,onChange:t,placeholder:o,disabled:i})),be=At;var Fe=l(v(),1),G=l(p(),1),Ot=(0,Fe.memo)(({options:e,selected:t,onChange:o,disabled:i})=>(0,G.jsx)("div",{className:"radio-button",children:e.map(n=>(0,G.jsxs)("label",{className:"radio-button__item",children:[(0,G.jsx)("input",{className:"radio-button__input",type:"radio",value:n.value,checked:t===n.value,onChange:s=>o(s.target.value),disabled:i}),(0,G.jsx)("span",{className:"radio-button__text",children:n.label})]},n.value))})),X=Ot;var Ze=l(v(),1),he=l(p(),1),Bt=(0,Ze.memo)(({value:e,onChange:t,disabled:o})=>(0,he.jsx)("button",{className:"toggle",onClick:t,disabled:o,children:(0,he.jsx)("span",{className:"toggle__background",children:(0,he.jsx)("span",{className:`toggle__slider${e?" toggle__slider--enabled":""}${o?" toggle__slider--disabled":""}`})})})),j=Bt;var T=l(v(),1);var H=l(p(),1),Dt=()=>(0,H.jsx)("div",{className:"loading-indicator-container",children:(0,H.jsxs)("svg",{viewBox:"0 0 120 40",className:"loading-indicator",children:[(0,H.jsx)("circle",{stroke:"none",cx:"20",cy:"20",r:"8",className:"loading-indicator-circle"}),(0,H.jsx)("circle",{stroke:"none",cx:"60",cy:"20",r:"8",className:"loading-indicator-circle"}),(0,H.jsx)("circle",{stroke:"none",cx:"100",cy:"20",r:"8",className:"loading-indicator-circle"})]})}),Ge=Dt;var Ye=l(v(),1);var Xe=l(v(),1);var we=l(p(),1),$t=(0,Xe.memo)(({tippy:e})=>(0,we.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:e,placement:"top",showDelay:0,children:(0,we.jsx)("div",{className:"info-tippy",children:(0,we.jsx)(d.React.questionMark,{size:20,fill:"var(--spice-subtext)"})})})),je=$t;var Je=l(v(),1);var ke=l(p(),1),Ht=(0,Je.memo)(({name:e,popupModal:t})=>t?(0,ke.jsx)("button",{className:"popup-button",onClick:()=>R({title:e,content:t,isLarge:!1}),"aria-label":"Open popup",children:(0,ke.jsx)(d.React.editButton,{size:16})}):null),Ke=Ht;var k=l(p(),1),zt=(0,Ye.memo)(({name:e,desc:t,tippy:o,children:i,popupModal:n})=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"option__content",children:[(0,k.jsx)("div",{className:"option__desc",children:t}),o&&(0,k.jsx)(je,{tippy:o})]}),(0,k.jsxs)("div",{className:"option__control",children:[(0,k.jsx)(Ke,{name:e,popupModal:n}),i]})]})),Se=zt;var qt={Log:(...e)=>console.log(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#272ab0; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-left:none; border-radius:0 3px 3px 0;"),Error:(...e)=>console.error(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#ff6060; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #ee6969; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #ee6969; border-left:none; border-radius:0 3px 3px 0;"),Warn:(...e)=>console.warn(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#ee8860; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #ff8860; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #ff8860; border-left:none; border-radius:0 3px 3px 0;"),Debug:(...e)=>console.debug(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#272ab0; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-left:none; border-radius:0 3px 3px 0;")},f=qt;var V=l(p(),1),Ut=({message:e="",keyPrefix:t="custom-notif",autoHideDuration:o=3e3,backgroundColour:i="#fff",colour:n="#000",isWarning:s=!1}={})=>{let r=s?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(d.React.warning,{size:24}),(0,V.jsx)("span",{children:e})]}):(0,V.jsx)("span",{children:e}),c=s?"#ff9800":i,u=s?"#fff":n;try{Spicetify.Snackbar.enqueueCustomSnackbar(t,{keyPrefix:t,autoHideDuration:o,children:(0,V.jsx)("div",{className:"custom-notification",style:{display:"flex",gap:"8px",alignItems:"center",color:u,backgroundColor:c,padding:"14px 16px",borderRadius:"4px",fontSize:"0.875rem"},children:r})})}catch(m){f.Error("Error displaying notification:",m)}},z=Ut;var y=l(p(),1),Qe=(0,T.memo)(()=>{let[e,t]=(0,T.useState)("Loading..."),[o,i]=(0,T.useState)("Loading..."),[n,s]=(0,T.useState)(!1),[r,c]=(0,T.useState)("option1");(0,T.useEffect)(()=>{(async()=>{try{let P=await(await fetch("https://api.github.com/repos/veryboringhwl/spicetify/releases/latest")).json();t(P.tag_name);let C=new Date(P.published_at),$={year:"numeric",month:"long",day:"numeric"},Lt=C.toLocaleString("en-GB",$);i(Lt)}catch(b){f.Error("Error fetching latest version:",b),t("Error fetching"),i("Error fetching")}})()},[]);let u={"Current Theme Version":"v1.2.0","Newest Theme Version":e,"Last Updated":o,"Spotify Version":Spicetify.Platform.version,"Spicetify Version":Spicetify.Config.version,Platform:Spicetify.Platform.PlatformData.app_platform,OS:Spicetify.Platform.PlatformData.os_name,Theme:Spicetify.Config.current_theme,Extensions:Spicetify.Config.extensions.join(", "),"Custom apps":Spicetify.Config.custom_apps.join(", "),"Colour Scheme":Spicetify.Config.color_scheme};return(0,y.jsxs)("div",{className:"theme-version",children:[Object.entries(u).map(([m,b])=>(0,y.jsxs)("p",{className:"theme-info-item",children:[(0,y.jsxs)("span",{className:"theme-info-key encore-text-body-medium-bold",children:[m,": "]}),(0,y.jsx)("span",{className:"theme-info-value",children:b})]},m)),(0,y.jsxs)("p",{children:["Press ",(0,y.jsx)("kbd",{children:"F8"})," to pause script execution."]}),(0,y.jsx)("button",{onClick:()=>{z({autoHideDuration:1e4,message:"Debug Menu notification lolololol"})},children:"Special Button"}),(0,y.jsx)("div",{className:"loading-wrapper",children:(0,y.jsx)(Ge,{})}),(0,y.jsx)(d.React.duplicate,{size:50}),(0,y.jsx)(d.React.palette,{size:50}),(0,y.jsxs)(Spicetify.ReactComponent.Cards.Default,{id:"card-id",title:"Card Title",subtitle:"Card Subtitle",media:"https://placehold.co/100",size:"sm",onClick:()=>console.log("Card clicked"),children:[(0,y.jsx)(Spicetify.ReactComponent.Cards.Default.Body,{children:"Additional content here"}),(0,y.jsx)(Spicetify.ReactComponent.Cards.Default.Footer,{children:"Footer content"})]}),(0,y.jsx)(Spicetify.ReactComponent.TextComponent,{semanticColor:"textBase",variant:"viola",weight:"book",children:"Hello World"}),(0,y.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"Hello World",placement:"top",trigger:"mouseenter",children:(0,y.jsx)("div",{children:"Hover me"})}),(0,y.jsx)(Se,{name:"BITCH",desc:"REEEEEE",tippy:"HELLOE",popupModal:Qe,children:(0,y.jsx)(j,{value:n,onChange:()=>s(!n)})}),(0,y.jsx)(X,{options:[{label:"Option 1",value:"option1"},{label:"Option 2",value:"option2"},{label:"Option 3",value:"option3"}],name:"debugRadio",selected:r,onChange:c})]})}),et=Qe;var w=l(p(),1),Wt=()=>{let[e,t]=(0,pe.useState)(!1),[o,i]=(0,pe.useState)("test"),[n,s]=(0,pe.useState)("option1"),[r,c]=(0,pe.useState)("dropdown1"),u=()=>{t(!e)},m=C=>{let $=C.target.value;i($)},b=C=>{s(C)},P=C=>{c(C)};return(0,w.jsxs)("div",{children:[(0,w.jsx)("h2",{children:"Component Test Menu"}),(0,w.jsx)("h3",{children:"Toggle Component"}),(0,w.jsx)(j,{value:e,onChange:u}),(0,w.jsxs)("p",{children:["Current Toggle Value: ",e.toString()]}),(0,w.jsx)("h3",{children:"Input Component"}),(0,w.jsx)(be,{value:o,onChange:m,placeholder:"Type something..."}),(0,w.jsxs)("p",{children:["Current Input Value: ",o]}),(0,w.jsx)("h3",{children:"Radio Button Component"}),(0,w.jsx)(X,{options:[{label:"Radio Button Item 1",value:"option1"},{label:"Radio Button Item 2",value:"option2"},{label:"Radio Button Item 3",value:"option3"}],selected:n,onChange:b}),(0,w.jsxs)("p",{children:["Current Radio Button Value: ",n]}),(0,w.jsx)("h3",{children:"Dropdown Component"}),(0,w.jsx)(ye,{options:[{label:"Dropdown Item 1",value:"option1"},{label:"Dropdown Item 2",value:"option2"},{label:"Dropdown Item 3",value:"option3"}],value:r,onChange:P}),(0,w.jsxs)("p",{children:["Current Dropdown Value: ",r]}),(0,w.jsx)("button",{onClick:()=>{R({title:"Debug Menu",content:(0,w.jsx)(et,{isLarge:!0})})},children:"Debug Menu"})]})},J=Wt;var Ft=()=>{Spicetify.Mousetrap.bind(["up up down down left right left right b a","v e r s i o n","s p o t i f y","s p i c e t i f y","d e b u g","t e s t"],()=>{R({title:"Theme Version",content:J})})},tt=Ft;var Zt={get(e,t){try{let o=localStorage.getItem(`theme:${e}`);return o!=null?JSON.parse(o):t}catch(o){return console.error(`Error getting ${e} from localStorage:`,o),t}},set(e,t){try{return localStorage.setItem(`theme:${e}`,JSON.stringify(t)),!0}catch(o){return f.Error(`Error setting ${e} in localStorage:`,o),!1}}},h=Zt;var at=l(v(),1);var ot=l(v(),1),me=l(p(),1),Gt=(0,ot.memo)(({resetSettings:e,saveSettings:t})=>(0,me.jsxs)("div",{className:"button-container",children:[(0,me.jsx)("button",{className:"button-container__button button-container__button--reset",onClick:e,children:"Reset"}),(0,me.jsx)("button",{className:"button-container__button button-container__button--save",onClick:t,children:"Save"})]})),B=Gt;var _e=l(v(),1);var Ee=l(p(),1),Xt=(0,_e.memo)(({option:e,value:t,onChange:o,disabled:i})=>{let n=(0,_e.useCallback)(c=>{let u=e.type==="toggle"?!t:c;o(e.name,u)},[e.name,e.type,t,o]),s,r={value:t,onChange:n,disabled:i};return e.type==="toggle"?s=j:e.type==="dropdown"?(s=ye,r.options=e.options):e.type==="input"?(s=be,r.placeholder=e.placeholder):e.type==="radiobutton"&&(s=X,r.options=e.options,r.selected=t),(0,Ee.jsx)(Se,{name:e.name,desc:e.desc,tippy:e.tippy,popupModal:e.popupModal,children:(0,Ee.jsx)(s,{...r})})}),A=Xt;var Y=l(v(),1);function jt(e){let t={};for(let o of e){let i=o.name;if(t[i]=h.get(i,o.defaultVal),o.reveal)for(let n of o.reveal){let s=n.name;t[s]=t[i]?h.get(s,n.defaultVal):!1}}return t}var K=jt;var Jt=e=>{let[t,o]=(0,Y.useState)(()=>K(e)),i=(0,Y.useCallback)((r,c)=>{o(u=>({...u,[r]:c}))},[]),n=(0,Y.useCallback)(()=>{let r=Object.fromEntries(e.map(c=>[c.name,c.defaultVal]));o(r),e.forEach(c=>{h.set(c.name,c.defaultVal),c.run&&c.run(c.defaultVal)})},[e]),s=(0,Y.useCallback)(()=>{Object.entries(t).forEach(([r,c])=>{h.set(r,c);let u=e.find(m=>m.name===r);u&&u.run&&u.run(c)})},[t,e]);return{settings:t,updateSetting:i,resetSettings:n,saveSettings:s}},Q=Jt;var q=l(p(),1),Kt=(0,at.memo)(()=>{let{settings:e,updateSetting:t,resetSettings:o,saveSettings:i}=Q(ee);return(0,q.jsxs)("div",{className:"settings-modal",children:[(0,q.jsx)("div",{className:"settings-modal__options",children:ee.map(n=>(0,q.jsx)(A,{option:n,value:e[n.name],onChange:(s,r)=>t(s,r)},n.name))}),(0,q.jsx)("div",{className:"settings-modal__buttons",children:(0,q.jsx)(B,{resetSettings:o,saveSettings:i})})]})}),ee=[{type:"toggle",name:"album-banner-page",desc:"Puts album art in places",defaultVal:!0,run(e){document.documentElement.classList.toggle("album-banner-page",e)}},{type:"toggle",name:"lyrics-page",desc:"Adds Dynamic backgrounds to Lyrics Page",defaultVal:!0,tippy:"Includes Spotify Lyrics page and Spicetify's Lyrics Plus",run(e){document.documentElement.classList.toggle("lyrics-page",e)}},{type:"toggle",name:"playlist-page",desc:"Adds Dynamic backgrounds to your Playlist Pages",defaultVal:!0,run(e){document.documentElement.classList.toggle("playlist-page",e)}},{type:"toggle",name:"artist-page",desc:"Adds Dynamic backgrounds to Artist Pages",defaultVal:!0,run(e){document.documentElement.classList.toggle("artist-page",e)}},{type:"toggle",name:"album-page",desc:"Adds Dynamic backgrounds to Album Pages",defaultVal:!0,run(e){document.documentElement.classList.toggle("album-page",e)}},{type:"toggle",name:"misc-page",desc:"Adds Dynamic backgrounds to Misc Pages",defaultVal:!0,tippy:"Enables album art for Station, Collection, Show, Episode, Genre, User",run(e){document.documentElement.classList.toggle("misc-page",e)}}],nt=Kt;var it=l(v(),1);var U=l(p(),1),Yt=(0,it.memo)(()=>{let{settings:e,updateSetting:t,resetSettings:o,saveSettings:i}=Q(te);return(0,U.jsxs)("div",{className:"settings-modal",children:[(0,U.jsx)("div",{className:"settings-modal__options",children:te.map(n=>(0,U.jsx)(A,{option:n,value:e[n.name],onChange:(s,r)=>t(s,r)},n.name))}),(0,U.jsx)("div",{className:"settings-modal__buttons",children:(0,U.jsx)(B,{resetSettings:o,saveSettings:i})})]})}),te=[{type:"toggle",name:"windows-control",desc:"Enable custom Windows Controls",defaultVal:!1,run:e=>{document.documentElement.classList.toggle("windows-control",e)}},{type:"toggle",name:"hide-windows-control",desc:"Removes Spotifys Windows Controls completely",defaultVal:!1,run:e=>{if(document.documentElement.classList.contains("WindowsControl")){let t=document.querySelector(".CCIGxtpAreSdwWRo14FE"),o=document.querySelector(".main-topBar-topbarContentRight");e?(Spicetify.Platform.ControlMessageAPI._updateUiClient.setButtonsVisibility({showButtons:!1}),Spicetify.Platform.ControlMessageAPI._updateUiClient.updateTitlebarHeight({height:1}),t&&(t.style.display="none"),o&&(o.style.paddingRight="8px")):(Spicetify.Platform.ControlMessageAPI._updateUiClient.setButtonsVisibility({showButtons:!0}),Spicetify.Platform.ControlMessageAPI._updateUiClient.updateTitlebarHeight({height:64}),t&&(t.style.display=""),o&&(o.style.paddingRight=""))}}},{type:"input",name:"windows-control-brightness",desc:"Set Brightness",defaultVal:"2.12",run(e){document.documentElement.classList.contains("windows-control")&&document.documentElement.style.setProperty("--windows-control-brightness",e)}},{type:"input",name:"windows-control-top",desc:"Set Top",defaultVal:"16px",run(e){document.documentElement.classList.contains("windows-control")&&document.documentElement.style.setProperty("--windows-control-top",e)}},{type:"input",name:"windows-control-width",desc:"Set Width",defaultVal:"135px",run(e){document.documentElement.classList.contains("windows-control")&&document.documentElement.style.setProperty("--windows-control-width",e)}},{type:"input",name:"windows-control-height",desc:"Set Height",defaultVal:"32px",run(e){document.documentElement.classList.contains("windows-control")&&document.documentElement.style.setProperty("--windows-control-height",e)}}],st=Yt;var lt=null,rt=null,Qt=async e=>{if(e==="default"){document.querySelector("style.customColourScheme")?.remove();return}let t=lt,o=rt;if(!t){let s=await fetch("https://raw.githubusercontent.com/veryboringhwl/spicetify/main/dist/color.ini");if(!s.ok){z({isWarning:!0,autoHideDuration:1e4,message:"Unable to fetch the colour scheme options. You won't be able to change the colour scheme using the settings menu."});return}t=await s.text(),lt=t}o||(o=t.split(/[\r\n]+/).reduce((s,r)=>{let c=r.trim();if(c.startsWith(";"))return s;let u=c.match(/^\[([^\]]+)\]$/);if(u)return s[u[1]]={},s;let m=c.match(/^([^=]+?)\s*=\s*(.+)$/);if(m){let[,b,P]=m,C=Object.keys(s).pop();C&&(s[C][b]=P.split(";")[0].trim())}return s},{}),rt=o);let i=`${Object.entries(o[e]).reduce((s,[r,c])=>{let u=c.length===3?c.split("").map(m=>Number.parseInt(m+m,16)).join(", "):c.match(/\w\w/g).map(m=>Number.parseInt(m,16)).join(", ");return`${s}--spice-${r}:#${c};--spice-rgb-${r}:${u};`},":root{")}}`,n=document.querySelector("style.customColourScheme");n||(n=document.createElement("style"),n.classList.add("customColourScheme"),document.body.appendChild(n)),n.textContent=i},ct=Qt;var eo=async()=>{for(;!Spicetify.Player.data?.item;)await new Promise(i=>setTimeout(i,10));let e={Album:{regex:/^\/album\//,key:"album-page"},Artist:{regex:/^\/artist\/(?!artists\b)\w+$/,key:"artist-page"},Lyrics:{regex:/^\/lyrics$/,key:"lyrics-page"},LyricsPlus:{regex:/^\/lyrics-plus$/,key:"lyrics-page"},Playlist:{regex:/^\/playlist\//,key:"playlist-page"},Station:{regex:/^\/station\/playlist\//,key:"misc-page"},Collection:{regex:/^\/collection\/tracks$/,key:"misc-page"},Show:{regex:/^\/show\//,key:"misc-page"},Episode:{regex:/^\/episode\//,key:"misc-page"},User:{regex:/^\/user\/(?!users\b)\w+$/,key:"misc-page"},Genre:{regex:/^\/genre\//,key:"misc-page"}},t=document.querySelector(".banner-image")||(()=>{let i=document.createElement("div");return i.className="banner-image",document.querySelector(".under-main-view")?.appendChild(i),i})(),o=()=>{let i=Spicetify.Player.data?.item?.metadata?.image_xlarge_url,n=Object.values(e).some(({regex:s,key:r})=>h.get(r,!1)&&s.test(Spicetify.Platform.History.location.pathname));if(i){let s=new Image;s.src=i,s.onload=()=>document.documentElement.style.setProperty("--image",`url(${i})`)}else document.documentElement.style.setProperty("--image","none");n?t.style.display="":t.style.display="none"};Spicetify.Platform.History.listen(o),Spicetify.Player.addEventListener("songchange",o),o()},pt=eo;var to=async e=>{if(!Spicetify.Platform.ProductStateAPI.productStateApi)return;let t={default:{"app-developer":"0"},developer:{"app-developer":"2"}},o=t[e]||t.default,i=async(n,s)=>(await Spicetify.Platform.ProductStateAPI.productStateApi.putValues({pairs:{[n]:s}}),Spicetify.Platform.ProductStateAPI.productStateApi.subValues({keys:[n]},async r=>{r[n]!==s&&await Spicetify.Platform.ProductStateAPI.productStateApi.putValues({pairs:{[n]:s}})}));window.appDevListener?.cancel(),window.appDevListener=await i("app-developer",o["app-developer"])},mt=to;var oo=async(e,t=50)=>{let o=1;for(;!document.querySelector(e)&&o<t;)o=o+1,await new Promise(i=>setTimeout(i,100));return document.querySelector(e)||null},oe=oo;var de=null,Ce=null;function ao(e){io(),e&&no()}async function no(){let e=await oe(".Root__globalNav"),t=()=>{let i=e.querySelectorAll(".main-globalNav-navLink, ._b3hhmbWtOY8_1M1mM1H");for(let n of i)if(!n.querySelector(".main-globalNav-iconText")){let s=n.getAttribute("aria-label")||(n.querySelector("input")?"Search":""),r=document.createElement("div");r.className="main-globalNav-iconText encore-text-body-medium-bold",r.textContent=s,n.appendChild(r)}};t(),de=new MutationObserver(t),de.observe(e,{childList:!0,subtree:!0});let o=()=>{let i=Spicetify.Platform.LocalStorageAPI.getItem("left-sidebar-state");document.documentElement.classList.toggle("collapsed",i===1)};Ce=i=>{i.data.key==="left-sidebar-state"&&o()},Spicetify.Platform.LocalStorageAPI.getEvents().addListener("update",Ce),o()}function io(){document.documentElement.classList.remove("collapsed"),de&&(f.Log("Removing AppleMusic observer"),de.disconnect(),de=null),Ce&&(f.Log("Removing sidebar state listener"),Spicetify.Platform.LocalStorageAPI.getEvents().removeListener("update",sidebarStateListener),Ce=null);let e=document.querySelectorAll(".main-globalNav-iconText");for(let t of e)t.remove()}var dt=ao;var ue=null,fe=null;async function so(e){ro(),e&&lo()}async function lo(){let e=await oe(".Root__globalNav"),t=()=>{let i=e.querySelectorAll(".main-globalNav-navLink, ._b3hhmbWtOY8_1M1mM1H");for(let n of i)if(!n.querySelector(".main-globalNav-iconText")){let s=n.getAttribute("aria-label")||(n.querySelector("input")?"Search":""),r=document.createElement("div");r.className="main-globalNav-iconText encore-text-body-medium-bold",r.textContent=s,n.appendChild(r)}};t(),ue=new MutationObserver(t),ue.observe(e,{childList:!0,subtree:!0});let o=()=>{let i=Spicetify.Platform.LocalStorageAPI.getItem("left-sidebar-state");document.documentElement.classList.toggle("collapsed",i===1)};fe=i=>{i.data.key==="left-sidebar-state"&&o()},Spicetify.Platform.ControlMessageAPI._updateUiClient.updateTitlebarHeight({height:40}),Spicetify.Platform.LocalStorageAPI.getEvents().addListener("update",fe),o()}function ro(){document.documentElement.classList.remove("collapsed"),ue&&(f.Log("Removing libx observer"),ue.disconnect(),ue=null),fe&&(f.Log("Removing sidebar state listener"),Spicetify.Platform.LocalStorageAPI.getEvents().removeListener("update",fe),fe=null),Spicetify.Platform.ControlMessageAPI._updateUiClient.updateTitlebarHeight({height:64});let e=document.querySelectorAll(".main-globalNav-iconText");for(let t of e)t.remove()}var ut=so;var co=async e=>{let t=await oe(".main-nowPlayingBar-volumeBar"),o=()=>{let i=t.querySelector(".vol-input");i&&(i.value=Math.round(Spicetify.Player.getVolume()*100))};if(e){if(!t.querySelector(".vol-percent")){t.insertAdjacentHTML("beforeend",`<div class="vol-percent" style="display: inline-flex; align-items: center;">
					<input type="text" class="vol-input" 
						style="width: 30px; font-size: 15px; border: none; background: transparent; text-align: right;">
					<span style="font-size: 15px;">%</span>
				</div>`),t.style.flex="0 1 200px";let i=t.querySelector(".vol-input");i.addEventListener("change",()=>{let n=Number.parseInt(i.value,10);n>=0&&n<=100&&Spicetify.Player.setVolume(n/100)}),Spicetify.Platform.PlaybackAPI._events.addListener("volume",o),o()}}else{let i=document.querySelector(".main-nowPlayingBar-volumeBar");i&&(i.querySelector(".vol-percent")?.remove(),i.style.flex="",Spicetify.Platform.PlaybackAPI._events.removeListener("volume",o))}},ft=co;var po={Features:[{type:"radiobutton",name:"colour-scheme",desc:"Colour Scheme",defaultVal:"default",options:[{value:"default",label:"Default"},{value:"dark",label:"Dark"},{value:"light",label:"Light"},{value:"bloom",label:"Bloom"},{value:"spotify",label:"Spotify"}],tippy:"Default uses the colour scheme set in config-xpui.ini",run(e){ct(e)}},{type:"dropdown",name:"spotify-mode",desc:"Spotify mode",defaultVal:"default",tippy:"Only takes effect after a restart",options:[{value:"default",label:"Default"},{value:"developer",label:"Developer"},{value:"employee",label:"Employee"},{value:"both",label:"Dev + Empl"}],run(e){mt(e)}},{type:"toggle",name:"album-banner-page",desc:"Puts Track cover art in various pages",defaultVal:!0,popupModal:nt,run(e){document.documentElement.classList.toggle("album-banner-page",e),pt(e)}},{type:"toggle",name:"volume-percentage",desc:"Adds volume percentage next to volume slider",defaultVal:!0,run(e){ft(e)}},{type:"toggle",name:"windows-control",desc:"Adjusts brightness and position of windows controls",defaultVal:!1,tippy:"This will override the themes default windows controls",popupModal:st,run:e=>{document.documentElement.classList.toggle("windows-control",e)}},{type:"input",name:"spotify-font",desc:"Spotify font",defaultVal:"SpotifyMixUI",placeholder:"SpotifyMixUI",tippy:"This will only work if you have the font installed locally",run(e){document.documentElement.style.setProperty("--FontFamily",e)}}],Layouts:[{type:"toggle",name:"libx-ui",desc:"Restores the old UI >2024 (Pre Global Nav Bar)",defaultVal:!1,incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",run(e){document.documentElement.classList.toggle("libx-ui",e),ut(e)},reveal:[{type:"toggle",name:"highlight-navlinks",desc:"Adds highlights to the selected page",defaultVal:!0,run(e){document.documentElement.classList.toggle("highlight-navlinks",e)}},{type:"toggle",name:"pre-libx-ui",desc:"Restores the old UI >2023 (Pre LibraryX)",defaultVal:!1,run(e){document.documentElement.classList.toggle("pre-libx-ui",e)}},{type:"toggle",name:"compact-library",desc:"Uses compact sidebar",defaultVal:!1,tippy:"Broken if library is collapsed",run(e){document.documentElement.classList.toggle("compact-library",e)}}]},{type:"toggle",name:"apple-music-ui",desc:"Changes the UI to look like Apple Music",defaultVal:!1,incompatible:["LibX","switchlayout","TestLayout","greenicon"],tippy:"Incompatible with LibX, Switchlayout, greenicon and testlayout",run(e){document.documentElement.classList.toggle("apple-music-ui",e),dt(e)}},{type:"toggle",name:"modern-layout",desc:"Reorders play button to start and cover art to middle",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0,run(e){document.documentElement.classList.toggle("modern-layout",e)}},{type:"toggle",name:"switch-grid-layout",desc:"Uses different grid layout",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0,run(e){document.documentElement.classList.toggle("switch-grid-layout",e)}}],Snippets:[{type:"toggle",name:"hide-tracklist-numbers",desc:"Hides tracklist numbers in various pages",defaultVal:!0,run(e){document.documentElement.classList.toggle("hide-tracklist-numbers",e)}},{type:"toggle",name:"green-navLink-icons",desc:"Makes Navlinks green",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0,run(e){document.documentElement.classList.toggle("green-navLink-icons",e)}},{type:"toggle",name:"transparent-playbutton",desc:"Make the play/pause button transparent",defaultVal:!0,run(e){document.documentElement.classList.toggle("transparent-playbutton",e)}},{type:"toggle",name:"lyrics-only-npv",desc:"Show lyrics only in Now playing view",defaultVal:!1,run(e){document.documentElement.classList.toggle("lyrics-only-npv",e)}},{type:"toggle",name:"no-gradient",desc:"Remove the coloured gradient from header",defaultVal:!0,run(e){document.documentElement.classList.toggle("no-gradient",e)}}],Test:[{type:"toggle",name:"test-toggle",desc:"test-toggle",defaultVal:!0,popupModal:J,incompatible:["test-incompatible-toggle","test-incompatible-input","test-incompatible-dropdown"],tippy:"Incompatible with test-incompatible"},{type:"toggle",name:"test-incompatible-toggle",desc:"test-incompatible-toggle",defaultVal:!0},{type:"input",name:"test-incompatible-input",desc:"test-incompatible-input",defaultVal:1,placeholder:"does something"},{type:"dropdown",name:"test-incompatible-dropdown",desc:"test-incompatible-dropdown",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}]},{type:"input",name:"test-input",desc:"test-input",defaultVal:1,placeholder:"does something"},{type:"dropdown",name:"test-dropdown",desc:"test-dropdown",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}]},{type:"radiobutton",name:"test-radiobutton",desc:"test-radiobutton",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}],run(e){console.log(e)}},{type:"toggle",name:"test-reveal",desc:"test-reveal",defaultVal:!0,reveal:[{type:"toggle",name:"revealed-toggle",desc:"revealed-toggle",defaultVal:!0},{type:"input",name:"revealed-input",desc:"revealed-input",defaultVal:!0},{type:"dropdown",name:"revealed-dropdown",desc:"revealed-dropdown",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}]}]}]},x=po;var mo=(e,t=[])=>{try{Object.values(x).flat().forEach(({name:o,run:i})=>{let n=o,s=e[n];t.includes(n)&&i&&i(s)})}catch(o){f.Error("Failed to apply options:",o)}},ae=mo;var uo=()=>{f.Log("Initialising options");let e=K(Object.values(x).flat()),t=[...Object.values(x).flat(),...te,...ee];return t.forEach(o=>{let i=o.name;h.get(i,null)===null&&h.set(i,o.defaultVal),o.reveal&&o.reveal.forEach(n=>{let s=n.name;h.get(s,null)===null&&h.set(s,e[i]?n.defaultVal:!1)})}),t.forEach(o=>{let i=o.name,n=h.get(i,o.defaultVal);o.run&&o.run(n)}),ae(e),e},gt=uo;var xt=l(ge(),1);var ne=l(v(),1),vt=l(ge(),1),Ne=l(p(),1);function fo({titleText:e,descriptionText:t,cancelText:o="Cancel",confirmText:i="Confirm",onConfirm:n,onClose:s,onOpen:r,onOutside:c,confirmLabel:u,allowHTML:m}){let b=(0,ne.memo)(()=>{let[P,C]=(0,ne.useState)(!0),$=document.querySelector(".ReactModalPortal:last-of-type");return(0,ne.useEffect)(()=>{P&&r?.()},[P,r]),(0,Ne.jsx)(Spicetify.ReactComponent.RemoteConfigProvider,{configuration:Spicetify.Platform.RemoteConfiguration,children:(0,Ne.jsx)(Spicetify.ReactComponent.ConfirmDialog,{titleText:e,descriptionText:t,cancelText:o,confirmText:i,isOpen:P,onOutside:()=>{C(!1),c?.(),$?.remove()},onClose:()=>{C(!1),s?.(),$?.remove()},onConfirm:()=>{C(!1),n?.(),$?.remove()},confirmLabel:u,allowHTML:m})})});vt.default.createRoot(document.createElement("div")).render((0,Ne.jsx)(b,{}))}var xe=fo;var go={Reload:()=>{location.reload()},Restart:()=>{Spicetify.Platform.UpdateAPI.applyUpdate()}},Ie=go;var D=l(v(),1);var ie=l(v(),1),Ve=l(p(),1),vo=(0,ie.memo)(({categories:e,selectedCategory:t,onSelectCategory:o})=>{let i=(0,ie.useRef)(null);return(0,ie.useEffect)(()=>{let n=r=>{i.current&&(i.current.scrollLeft+=r.deltaY,r.preventDefault())},s=i.current;return s?.addEventListener("wheel",n,{passive:!1}),()=>s?.removeEventListener("wheel",n)},[]),(0,Ve.jsx)("div",{className:"carousel",ref:i,children:e.map(n=>(0,Ve.jsx)("button",{className:`carousel__button ${t===n?"carousel__button--active":""}`,onClick:()=>o(n),children:n},n))})}),yt=vo;var Pe=l(v(),1);var O=l(p(),1),yo=Object.values(x).flat(),bo=(0,Pe.memo)(({category:e,categoryOptions:t,settings:o,onChange:i})=>(0,O.jsxs)("div",{className:`option__category option__category--${e.toLowerCase()}`,children:[(0,O.jsx)("h2",{className:"option__category-title",children:e}),t.map(n=>{let s=o[n.name],r=yo.some(c=>c.incompatible?.includes(n.name)&&o[c.name]);return(0,O.jsxs)(Pe.Fragment,{children:[(0,O.jsx)("div",{className:"option__item option__item--main","data-name":n.name,children:(0,O.jsx)(A,{option:n,value:s,onChange:i,disabled:r})}),s&&n.reveal&&(0,O.jsx)("div",{className:"option__item option__item--revealed","data-name":n.name,children:n.reveal.map(c=>(0,O.jsx)(A,{option:c,value:o[c.name],onChange:i,disabled:r},c.name))})]},n.name)})]})),bt=bo;var Le=l(v(),1);var wt=l(v(),1);var W=l(p(),1),ho=(0,wt.memo)(()=>{let{settings:e,updateSetting:t,resetSettings:o,saveSettings:i}=Q(ht);return(0,W.jsxs)("div",{className:"settings-modal",children:[(0,W.jsx)("div",{className:"settings-modal__options",children:ht.map(n=>(0,W.jsx)(A,{option:n,value:e[n.name],onChange:(s,r)=>t(s,r)},n.name))}),(0,W.jsx)("div",{className:"settings-modal__buttons",children:(0,W.jsx)(B,{resetSettings:o,saveSettings:i})})]})}),ht=[{type:"input",name:"uifont",desc:"Changes the font of the Spotify app",defaultVal:"Segoe UI Variable Display",tippy:"This will only work if you have the font installed",popupModal:ho,run(e){document.documentElement.style.setProperty("--FontFamily",e)}}];var wo=e=>{xe({titleText:"Are you sure?",descriptionText:"This will reset all settings to default!",confirmText:"Reset",onConfirm:()=>{try{f.Log("Resetting settings");let t=[...Object.values(x).flat(),...ee,...te],o={};t.forEach(i=>{let n=i.name;o[n]=i.defaultVal,i.reveal&&i.reveal.forEach(s=>{o[s.name]=i.defaultVal?s.defaultVal:!1})}),Object.entries(o).forEach(([i,n])=>{h.set(i,n)}),e(o),ae(o,Object.keys(o))}catch(t){f.Error("Failed to reset settings:",t)}}})},St=wo;var So=e=>{try{let t=[];return Object.entries(e).forEach(([o,i])=>{let n=h.get(o,null);JSON.stringify(n)!==JSON.stringify(i)&&(h.set(o,i),t.push(o))}),t.length>0&&(f.Log(`Saving settings: ${t.join(", ")}`),ae(e,t)),e}catch(t){return f.Error("Failed to save settings:",t),e}},_t=So;var _o=()=>{let e=Object.values(x).flat(),[t,o]=(0,Le.useState)(()=>K(e)),i=(0,Le.useCallback)((n,s)=>{o(r=>{let c={...r,[n]:s},u=n,m=e.find(b=>b.name===u);return m?.reveal&&m.reveal.forEach(b=>{let P=b.name;s?c[P]=b.defaultVal:c[P]=!1}),s&&m?.incompatible&&m.incompatible.forEach(b=>{c[b]=!1}),c})},[e]);return{settings:t,handleSettingChange:i,resetSettings:()=>St(o),saveSettings:()=>{let n=_t(t);o(n)}}},Ct=_o;var a=l(p(),1),Co=()=>(0,a.jsxs)("div",{className:"preview-navbar",children:[(0,a.jsxs)("div",{className:"preview-navbar__item preview-navbar__item--left",children:[(0,a.jsx)("div",{className:"preview-navbar__item-history"}),(0,a.jsx)("div",{className:"preview-navbar__item-button",children:(0,a.jsx)(d.React.settings,{size:16})}),(0,a.jsx)("div",{className:"preview-navbar__item-button",children:(0,a.jsx)(d.React.settings,{size:16})})]}),(0,a.jsx)("div",{className:"preview-navbar__item preview-navbar__item--center",children:(0,a.jsxs)("div",{className:"preview-navbar__item-search",children:[(0,a.jsx)(d.React.settings,{size:16}),(0,a.jsx)("div",{children:"Search"})]})}),(0,a.jsxs)("div",{className:"preview-navbar__item preview-navbar__item--right",children:[(0,a.jsx)("div",{className:"preview-navbar__item-button",children:(0,a.jsx)(d.React.settings,{size:16})}),(0,a.jsx)("div",{className:"preview-navbar__item-windows-controls"})]})]}),se=({name:e,info:t})=>(0,a.jsxs)("div",{className:"playlist-item",children:[(0,a.jsx)("div",{className:"playlist-item__image"}),(0,a.jsxs)("div",{className:"playlist-item__info",children:[(0,a.jsx)("div",{className:"playlist-item__name",children:e}),(0,a.jsx)("div",{className:"playlist-item__description",children:t})]})]}),No=()=>(0,a.jsxs)("div",{className:"preview-sidebar",children:[(0,a.jsx)("div",{className:"preview-sidebar__header",children:"Your Library"}),(0,a.jsxs)("div",{className:"chips",children:[(0,a.jsx)("div",{className:"chips__item chips__item--active",children:"Playlists"}),(0,a.jsx)("div",{className:"chips__item",children:"Artists"}),(0,a.jsx)("div",{className:"chips__item",children:"Podcasts"})]}),(0,a.jsxs)("div",{className:"preview-sidebar__search",children:[(0,a.jsx)(d.React.settings,{size:10})," "]}),(0,a.jsx)(se,{name:"Playlist 1",info:"Playlist.Username"}),(0,a.jsx)(se,{name:"Playlist 2",info:"Playlist.Username"}),(0,a.jsx)(se,{name:"Playlist 3",info:"Playlist.Username"}),(0,a.jsx)(se,{name:"Playlist 4",info:"Playlist.Spotify"}),(0,a.jsx)(se,{name:"Playlist 5",info:"Playlist.Spotify"}),(0,a.jsx)(se,{name:"Spotify",info:"Spotify"})]}),le=({name:e})=>(0,a.jsxs)("div",{className:"shortcut-item",children:[(0,a.jsx)("div",{className:"shortcut-item__image"}),(0,a.jsx)("div",{className:"shortcut-item__text",children:e})]}),S=({name:e})=>(0,a.jsxs)("div",{className:"carousel-item",children:[(0,a.jsx)("div",{className:"carousel-item__image"}),(0,a.jsx)("div",{className:"carousel-item__text",children:e})]}),xo=()=>(0,a.jsxs)("div",{className:"preview-main-view",children:[(0,a.jsx)("div",{className:"preview-main-view__background"}),(0,a.jsxs)("div",{className:"chips",children:[(0,a.jsx)("div",{className:"chips__item chips__item--active",children:"Home"}),(0,a.jsx)("div",{className:"chips__item",children:"Music"}),(0,a.jsx)("div",{className:"chips__item",children:"Podcasts"}),(0,a.jsx)("div",{className:"chips__item",children:"Audiobooks"})]}),(0,a.jsxs)("div",{className:"preview-main-view__shortcuts",children:[(0,a.jsx)(le,{name:"Playlist 1"}),(0,a.jsx)(le,{name:"Playlist 2"}),(0,a.jsx)(le,{name:"Playlist 3"}),(0,a.jsx)(le,{name:"Playlist 4"}),(0,a.jsx)(le,{name:"Playlist 5"}),(0,a.jsx)(le,{name:"Playlist 6"})]}),(0,a.jsx)("div",{className:"preview-main-view__header",children:"Made for you"}),(0,a.jsxs)("div",{className:"preview-main-view__carousel",children:[(0,a.jsx)(S,{name:"Daily Mix 1"}),(0,a.jsx)(S,{name:"Discover Weekly"}),(0,a.jsx)(S,{name:"Release Radar"}),(0,a.jsx)(S,{name:"On Repeat"}),(0,a.jsx)(S,{name:"Repeat Rewind"}),(0,a.jsx)(S,{name:"Create a Blend"})]}),(0,a.jsx)("div",{className:"preview-main-view__header",children:"Recently Played"}),(0,a.jsxs)("div",{className:"preview-main-view__carousel",children:[(0,a.jsx)(S,{name:"Playlist 1"}),(0,a.jsx)(S,{name:"Playlist 2"}),(0,a.jsx)(S,{name:"Playlist 3"}),(0,a.jsx)(S,{name:"Playlist 4"}),(0,a.jsx)(S,{name:"Playlist 5"}),(0,a.jsx)(S,{name:"Playlist 6"})]}),(0,a.jsx)("div",{className:"preview-main-view__header",children:"Jump back in"}),(0,a.jsxs)("div",{className:"preview-main-view__carousel",children:[(0,a.jsx)(S,{name:"Playlist 1"}),(0,a.jsx)(S,{name:"Playlist 2"}),(0,a.jsx)(S,{name:"Playlist 3"}),(0,a.jsx)(S,{name:"Playlist 4"}),(0,a.jsx)(S,{name:"Playlist 5"}),(0,a.jsx)(S,{name:"Playlist 6"})]})]}),Po=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"preview-now-playing-bar",children:[(0,a.jsxs)("div",{className:"preview-now-playing-bar__item preview-now-playing-bar__item--left",children:[(0,a.jsx)("div",{className:"preview-now-playing-bar__cover-art"}),(0,a.jsxs)("div",{className:"preview-now-playing-bar__info",children:[(0,a.jsx)("div",{className:"preview-now-playing-bar__info-title",children:"Song Title"}),(0,a.jsx)("div",{className:"preview-now-playing-bar__info-artist",children:"Artist Name"})]}),(0,a.jsxs)("div",{className:"preview-now-playing-bar__button",children:[(0,a.jsx)(d.React.settings,{size:12})," "]})]}),(0,a.jsxs)("div",{className:"preview-now-playing-bar__item preview-now-playing-bar__item--center",children:[(0,a.jsxs)("div",{className:"preview-now-playing-bar__controls",children:[(0,a.jsxs)("div",{className:"preview-now-playing-bar__button",children:[(0,a.jsx)(d.React.settings,{size:12})," "]}),(0,a.jsxs)("div",{className:"preview-now-playing-bar__button",children:[(0,a.jsx)(d.React.settings,{size:12})," "]}),(0,a.jsxs)("div",{className:"preview-now-playing-bar__button preview-now-playing-bar__button--play",children:[(0,a.jsx)(d.React.settings,{size:16})," "]}),(0,a.jsxs)("div",{className:"preview-now-playing-bar__button",children:[(0,a.jsx)(d.React.settings,{size:12})," "]}),(0,a.jsxs)("div",{className:"preview-now-playing-bar__button",children:[(0,a.jsx)(d.React.settings,{size:12})," "]})]}),(0,a.jsxs)("div",{className:"preview-now-playing-bar__progress",children:[(0,a.jsx)("div",{className:"preview-now-playing-bar__progress-time",children:"0:00"}),(0,a.jsx)("div",{className:"preview-now-playing-bar__progress-bar"}),(0,a.jsx)("div",{className:"preview-now-playing-bar__progress-time",children:"3:30"})]})]}),(0,a.jsxs)("div",{className:"preview-now-playing-bar__item preview-now-playing-bar__item--right",children:[(0,a.jsxs)("div",{className:"preview-now-playing-bar__button",children:[(0,a.jsx)(d.React.settings,{size:12})," "]}),(0,a.jsxs)("div",{className:"preview-now-playing-bar__volume",children:[(0,a.jsx)(d.React.settings,{size:12})," ",(0,a.jsx)("div",{className:"preview-now-playing-bar__volume-bar"})]}),(0,a.jsxs)("div",{className:"preview-now-playing-bar__button",children:[(0,a.jsx)(d.React.settings,{size:12})," "]})]})]})}),Lo=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"preview-title",children:"Preview"}),(0,a.jsxs)("div",{className:"preview-spotify-app",children:[(0,a.jsx)(Co,{}),(0,a.jsx)(No,{}),(0,a.jsx)(xo,{}),(0,a.jsx)(Po,{})]})]}),Nt=Lo;var L=l(p(),1),Mo=(0,D.memo)(()=>{let{settings:e,handleSettingChange:t,resetSettings:o,saveSettings:i}=Ct(),n=["All",...Object.keys(x)],[s,r]=(0,D.useState)("All"),c=(0,D.useCallback)(m=>{r(m)},[]),u=(0,D.useMemo)(()=>s==="All"?Object.entries(x):Object.entries(x).filter(([m])=>m===s),[s]);return(0,L.jsxs)("div",{className:"settings-menu",children:[(0,L.jsx)("div",{className:"settings-menu__carousel",children:(0,L.jsx)(yt,{categories:n,selectedCategory:s,onSelectCategory:c})}),(0,L.jsx)("div",{className:"settings-menu__options",children:u.map(([m,b])=>(0,L.jsx)(bt,{category:m,categoryOptions:b,settings:e,onChange:t},m))}),(0,L.jsx)("div",{className:"settings-menu__preview",children:(0,L.jsx)(Nt,{})}),(0,L.jsx)("div",{className:"settings-menu__buttons",children:(0,L.jsx)(B,{resetSettings:o,saveSettings:i})})]})}),Te=Mo;var _=l(p(),1),Ro=()=>{let e="settings-menu-popover",t=document.getElementById(e),o=()=>{t?.hidePopover?.()},i=s=>{s.preventDefault(),t?.showPopover?.()};t||(t=document.createElement("div"),t.id=e,t.style.top="calc(anchor(--SettingsButton bottom) + 8px)",t.style.left="anchor(--SettingsButton left)",t.style.background="transparent",t.style.overflow="visible",t.popover="auto",document.body.appendChild(t),xt.default.createRoot(t).render((0,_.jsxs)(Spicetify.ReactComponent.Menu,{children:[(0,_.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{Ie.Reload(),o()},leadingIcon:(0,_.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.repeat}}),children:"Reload theme"},"reload-theme"),(0,_.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{Ie.Restart(),o()},leadingIcon:(0,_.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.locked}}),divider:"after",children:"Restart Spotify"},"restart-spotify"),(0,_.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{xe({titleText:"Confirm Dialog",descriptionText:"Are you <b>sure</b>?",onOutside:()=>Spicetify.showNotification("Clicked outside"),confirmLabel:"Ok",allowHTML:!0}),o()},leadingIcon:(0,_.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.check}}),divider:"after",children:"Confirm Dialog"},"confirm-dialog"),(0,_.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{R({title:"Theme Settings",content:Te}),o()},leadingIcon:(0,_.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.subtitles}}),children:"Theme Settings"},"theme-settings-menu"),(0,_.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{R({title:"Test Menu",content:J}),o()},leadingIcon:(0,_.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.menu}}),children:"Test Menu"},"test-menu")]})));let n=new Spicetify.Topbar.Button("Theme Settings",`<svg viewBox="0 0 16 16" width="16px" height="16px" fill="currentColor">${d.HTML.settings}</svg>`,()=>{R({title:"Theme Settings",content:Te,buttons:(0,_.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"GitHub",placement:"top",children:(0,_.jsx)("button",{className:"modal__button modal__button--github",onClick:()=>window.open("https://github.com/veryboringhwl/spicetify"),children:(0,_.jsx)(d.React.github,{size:18})})}),icon:(0,_.jsx)(d.React.settings,{size:30})})},!1,!0);return n.element.oncontextmenu=i,n.element.style.anchorName="--SettingsButton",n},Pt=Ro;var F=l(p(),1);async function ko(){await Promise.race([(async()=>{for(await new Promise(c=>Spicetify.Events.webpackLoaded.on(c));!(Spicetify.Snackbar.enqueueCustomSnackbar&&Spicetify.Snackbar.enqueueSnackbar&&Spicetify.Platform.ProductStateAPI.productStateApi);)await new Promise(c=>setTimeout(c,100))})(),new Promise((c,u)=>setTimeout(()=>u("Initialization timeout"),5e3))]).catch(c=>{console.log(`${c}: Failed to initialize after ${5e3/1e3} seconds. Some features may not work.`),z({autoHideDuration:1e4,isWarning:!0,message:(0,F.jsxs)("span",{children:[c,": Failed to initialize after ",5e3/1e3," seconds. Some features may not work."]})})}),f.Log("Spicetify theme initialising"),Spicetify.Mousetrap.bind(["escape"],()=>{Spicetify.PopupModal.hide()});let t=66,o=66,[i,n,s]=Spicetify.Platform.version.split(".").map(Number);s>=t&&s<=o||z({autoHideDuration:5e3,isWarning:!0,message:(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("span",{children:["Theme supports Spotify v",i,".",n,".",t," to v",i,".",n,".",o,". Your version: ",i,".",n,".",s]})})}),tt(),Pt(),gt(),f.Log("Spicetify theme initialised")}ko();
})();
