(async function() {
          while (!Spicetify.React || !Spicetify.ReactDOM) {
            await new Promise(resolve => setTimeout(resolve, 10));
          }
var Ct=Object.create;var Re=Object.defineProperty;var wt=Object.getOwnPropertyDescriptor;var Mt=Object.getOwnPropertyNames;var xt=Object.getPrototypeOf,Lt=Object.prototype.hasOwnProperty;var ye=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ot=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Mt(t))!Lt.call(e,a)&&a!==o&&Re(e,a,{get:()=>t[a],enumerable:!(n=wt(t,a))||n.enumerable});return e};var l=(e,t,o)=>(o=e!=null?Ct(xt(e)):{},Ot(t||!e||!e.__esModule?Re(o,"default",{value:e,enumerable:!0}):o,e));var f=ye((go,ke)=>{ke.exports=Spicetify.React});var te=ye((yo,Pe)=>{Pe.exports=Spicetify.ReactDOM});var c=ye((ho,Ee)=>{Ee.exports=Spicetify.ReactJSX});var qa=l(f(),1);var G=l(f(),1),Te=l(te(),1);var Ie=l(c(),1),L=(e,t=16)=>({size:o=t,fill:n="currentColor"})=>(0,Ie.jsx)("svg",{viewBox:`0 0 ${t} ${t}`,width:o,height:o,fill:n,dangerouslySetInnerHTML:{__html:e}}),w={editButton:'<path d="M17.318 1.975a3.329 3.329 0 1 1 4.707 4.707L8.451 20.256c-.49.49-1.082.867-1.735 1.103L2.34 22.94a1 1 0 0 1-1.28-1.28l1.581-4.376a4.726 4.726 0 0 1 1.103-1.735L17.318 1.975zm3.293 1.414a1.329 1.329 0 0 0-1.88 0L5.159 16.963c-.283.283-.5.624-.636 1l-.857 2.372 2.371-.857a2.726 2.726 0 0 0 1.001-.636L20.611 5.268a1.329 1.329 0 0 0 0-1.879z"/>',settings:'<path d="M7.96 5.33a2.67 2.67 90 100 5.34 2.67 2.67 90 000-5.34ZM6.67 8A1.33 1.33 90 119.33 8 1.33 1.33 90 016.67 8Zm4.82-4.81a.95.94 90 01-1.1-.75L10.05.55A.47.47 90 009.68.17 8.1 8.1 90 006.32.17.47.47 90 005.96.55L5.61 2.44a.95.95 90 01-1.25.71L2.55 2.51a.47.47 90 00-.51.13C1.28 3.47.71 4.46.36 5.53a.47.47 90 00.14.51L1.97 7.28a.94.94 90 010 1.43L.5 9.95a.47.47 90 00-.14.51 7.98 7.98 90 001.68 2.9.47.47 90 00.51.13l1.81-.65a.94.94 90 011.25.72l.34 1.89c.04.18.18.33.37.37a8.1 8.1 90 003.36 0 .47.47 90 00.37-.37l.34-1.89a.95.95 90 011.25-.72l1.81.65c.18.06.38.01.51-.13.76-.84 1.34-1.82 1.68-2.9a.47.47 90 00-.14-.5L14.03 8.72a.94.94 90 010-1.44L15.5 6.04a.47.47 90 00.14-.5 7.98 7.98 90 00-1.68-2.9.47.47 90 00-.51-.13l-1.81.65a.95.95 90 01-.15.04Zm-8.82.78 1.25.44a2.28 2.28 90 003-1.73l.24-1.3a6.81 6.81 90 011.68 0l.24 1.3a2.28 2.28 90 003.01 1.73l1.24-.44c.34.44.63.93.84 1.44l-1 .85a2.27 2.27 90 000 3.48l1 .85a6.65 6.65 90 01-.84 1.44l-1.24-.44A2.28 2.28 90 009.08 13.32l-.24 1.29a6.8 6.8 90 01-1.69 0l-.23-1.29A2.28 2.28 90 003.91 11.59l-1.24.44a6.65 6.65 90 01-.84-1.44l1-.86a2.27 2.27 90 000-3.47l-1-.85c.21-.51.5-1 .84-1.44Z"/>',github:'<path d="M12.2135 0C5.4597 0 0 5.5 0 12.3042c0 5.439 3.4983 10.043 8.3513 11.6725.6068.1225.829-.2647.829-.5905 0-.2853-.02-1.263-.02-2.2818-3.3975.7335-4.105-1.4667-4.105-1.4667-.546-1.426-1.355-1.7925-1.355-1.7925-1.112-.7538.081-.7538.081-.7538 1.2335.0815 1.8807 1.263 1.8807 1.263 1.0917 1.874 2.851 1.3445 3.5587 1.0185.101-.7945.4248-1.3445.7685-1.65-2.7098-.2853-5.5607-1.3445-5.5607-6.0708 0-1.3445.485-2.4445 1.2535-3.3-.1212-.3055-.546-1.5688.1215-3.2595 0 0 1.0313-.326 3.3565 1.263a11.7425 11.7425 90 013.0535-.4075c1.0313 0 2.0825.1427 3.0532.4075 2.3255-1.589 3.3567-1.263 3.3567-1.263.6675 1.6907.2425 2.954.1212 3.2595.7887.8555 1.2537 1.9555 1.2537 3.3 0 4.7263-2.851 5.765-5.581 6.0708.445.387.829 1.1202.829 2.2815 0 1.65-.02 2.9743-.02 3.3815 0 .326.2225.7133.829.591 4.853-1.63 8.3513-6.2337 8.3513-11.6728C24.4267 5.5 18.947 0 12.2135 0z"/>',close:'<path d="M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143"/>',warning:'<path d="M12.884 2.532c-.346-.654-1.422-.654-1.768 0l-9 17A1 1 0 0 0 3 21h18a1 1 0 0 0 .884-1.5zM13 18h-2v-2h2zm-2-4V9h2l0 5z"/>',more:'<path d="M3 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm6.5 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zM16 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>',questionMark:'<path d="M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2Zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333 0 4.595 3.738 8.333 8.333 8.333 4.595 0 8.333-3.738 8.333-8.333 0-4.595-3.738-8.333-8.333-8.333ZM12 15.5a1 1 0 110 2 1 1 0 010-2Zm0-8.75a2.75 2.75 0 012.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 01-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 00-2.493-.128l-.007.128a.75.75 0 01-1.5 0A2.75 2.75 0 0112 6.75Z"/>',dropdown:'<path d="M20.4614 6.3469a1.506 1.506 90 00-2.1125.1919L12 14.1564l-6.349-7.6175a1.4997 1.4997 90 10-2.3028 1.922L10.8486 17.4613a1.4992 1.4992 90 002.3028 0L20.6518 8.4608A1.5019 1.5019 90 0020.4614 6.3469Z"/>',palette:'<path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/>',duplicate:'<path d="M15 4.5 13 2.5h-1.5L8.5 0H2C1.5 0 1 .5 1 1v10.5c0 .5.5 1 1 1h2.5v2.5c0 .5.5 1 1 1h8.5c.6 0 1-.5 1-1ZM2.5 1.5h5v1c0 .5.5 1 1 1L9.5 3.5l0 7.5H2.5zM6 14.5v-2h4c.5 0 1-.5 1-1V4h1v1c0 .5 0 .5.5.5h1l0 9z"/>'};w.React={editButton:L(w.editButton,24),settings:L(w.settings,16),github:L(w.github,24),close:L(w.close,32),warning:L(w.warning,24),more:L(w.more,16),questionMark:L(w.questionMark,24),dropdown:L(w.dropdown,24),palette:L(w.palette,24),duplicate:L(w.duplicate,24)};var h=w;var v=l(c(),1),R=null,Z=null,oe=()=>{Z&&R&&(Z.unmount(),R.remove(),document.body.style.overflow="auto",document.removeEventListener("keydown",Ve),document.removeEventListener("mousedown",Ne),R=null,Z=null)},Ve=e=>{e.key==="Escape"&&oe()},Ne=e=>{e.target.classList.contains("Modal__overlay")&&oe()},Ae=({title:e="",content:t,isLarge:o=!0,buttons:n=!1,icon:a=""}={})=>{R=document.getElementById("popup-modal"),R||(R=document.createElement("popup-modal"),R.id="popup-modal",document.body.appendChild(R)),Z=Te.default.createRoot(R),document.body.style.overflow="hidden",document.addEventListener("keydown",Ve),document.addEventListener("mousedown",Ne);let i=(0,G.memo)(()=>(0,v.jsx)("div",{className:"Modal__overlay",children:(0,v.jsx)("div",{className:"Modal",children:(0,v.jsxs)("div",{className:`Modal__container${o?" Modal__container--large":""}`,children:[(0,v.jsxs)("div",{className:"Modal__header",children:[(0,v.jsxs)("div",{className:"Modal__titleContainer",children:[(0,v.jsx)("div",{className:"Modal__icon",children:a}),(0,v.jsx)("h1",{className:"Modal__title",children:e})]}),(0,v.jsxs)("div",{className:"Modal__buttonContainer",children:[n,(0,v.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"Close",placement:"top",children:(0,v.jsx)("button",{className:"Modal__button Modal__button--close",onClick:()=>oe(),children:(0,v.jsx)(h.React.close,{size:18})})})]})]}),(0,v.jsx)("div",{className:"Modal__content",children:G.default.isValidElement(t)?t:G.default.createElement(t)})]})})}));Z.render((0,v.jsx)(i,{}))};Ae.hide=oe;var E=Ae;var T=l(f(),1);var B=l(c(),1),Rt=()=>(0,B.jsx)("div",{className:"loading-indicator-container",children:(0,B.jsxs)("svg",{viewBox:"0 0 120 40",className:"loading-indicator",children:[(0,B.jsx)("circle",{stroke:"none",cx:"20",cy:"20",r:"8",className:"loading-indicator-circle"}),(0,B.jsx)("circle",{stroke:"none",cx:"60",cy:"20",r:"8",className:"loading-indicator-circle"}),(0,B.jsx)("circle",{stroke:"none",cx:"100",cy:"20",r:"8",className:"loading-indicator-circle"})]})}),Be=Rt;var qe=l(f(),1);var _e=l(f(),1);var ne=l(c(),1),kt=(0,_e.memo)(({tippy:e})=>(0,ne.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:e,placement:"top",showDelay:0,children:(0,ne.jsx)("div",{className:"themeOptionTippy",children:(0,ne.jsx)(h.React.questionMark,{size:20,fill:"var(--spice-subtext)"})})})),De=kt;var $e=l(f(),1);var he=l(c(),1),Pt=(0,$e.memo)(({name:e,popupModal:t})=>t?(0,he.jsx)("button",{className:"themeOptionPopupButton",onClick:()=>E({title:e,content:t,isLarge:!1}),"aria-label":"Open popup",children:(0,he.jsx)(h.React.editButton,{size:16})}):null),We=Pt;var I=l(c(),1),Et=(0,qe.memo)(({name:e,desc:t,tippy:o,children:n,popupModal:a})=>(0,I.jsxs)("div",{className:"themeOptionRow","data-name":`theme:${e}`,children:[(0,I.jsx)("div",{className:"themeOptionContent",children:(0,I.jsx)("div",{className:"themeOptionDesc",children:t})}),(0,I.jsxs)("div",{className:"themeOptionControl",children:[o&&(0,I.jsx)(De,{tippy:o}),(0,I.jsx)(We,{name:e,popupModal:a}),n]})]})),ae=Et;var He=l(f(),1),ie=l(c(),1),It=(0,He.memo)(({value:e,onChange:t,disabled:o})=>(0,ie.jsx)("button",{className:"themeOptionToggle",onClick:t,disabled:o,children:(0,ie.jsx)("span",{className:"toggleBackground",children:(0,ie.jsx)("span",{className:`toggle ${e?"enabled":""} ${o?"disabled":""}`})})})),re=It;var Tt={Log:(...e)=>console.log(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#272ab0; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-left:none; border-radius:0 3px 3px 0;"),Error:(...e)=>console.error(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#ff6060; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #ee6969; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #ee6969; border-left:none; border-radius:0 3px 3px 0;"),Warn:(...e)=>console.warn(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#ee8860; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #ff8860; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #ff8860; border-left:none; border-radius:0 3px 3px 0;"),Debug:(...e)=>console.debug(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#272ab0; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-left:none; border-radius:0 3px 3px 0;")},d=Tt;var Ue=l(c(),1),Vt=({message:e="",keyPrefix:t="custom-notif",autoHideDuration:o=3e3,backgroundColor:n="#fff",color:a="#000"}={})=>{try{Spicetify.Snackbar.enqueueCustomSnackbar(t,{keyPrefix:t,autoHideDuration:o,children:(0,Ue.jsx)("div",{className:"custom-notification",style:{display:"flex",gap:"8px",alignItems:"center",color:a,backgroundColor:n,padding:"14px 16px",borderRadius:"4px",fontSize:"0.875rem"},children:e})})}catch(i){d.Error(i)}},j=Vt;var g=l(c(),1),ze=(0,T.memo)(()=>{let[e,t]=(0,T.useState)("Loading..."),[o,n]=(0,T.useState)("Loading..."),[a,i]=(0,T.useState)(!1);(0,T.useEffect)(()=>{(async()=>{try{let m=await(await fetch("https://api.github.com/repos/veryboringhwl/spicetify/releases/latest")).json();t(m.tag_name);let u=new Date(m.published_at),C={year:"numeric",month:"long",day:"numeric"},A=u.toLocaleString("en-GB",C);n(A)}catch(p){d.Error("Error fetching latest version:",p),t("Error fetching"),n("Error fetching")}})()},[]);let r={"Current Theme Version":"v1.2.0","Newest Theme Version":e,"Last Updated":o,"Spotify Version":Spicetify.Platform.version,"Spicetify Version":Spicetify.Config.version,Platform:Spicetify.Platform.PlatformData.app_platform,OS:Spicetify.Platform.PlatformData.os_name,Theme:Spicetify.Config.current_theme,Extensions:Spicetify.Config.extensions.join(", "),"Custom apps":Spicetify.Config.custom_apps.join(", "),"Color Scheme":Spicetify.Config.color_scheme};return(0,g.jsxs)("div",{className:"theme-version",children:[Object.entries(r).map(([s,p])=>(0,g.jsxs)("p",{className:"theme-info-item",children:[(0,g.jsxs)("span",{className:"theme-info-key encore-text-body-medium-bold",children:[s,": "]}),(0,g.jsx)("span",{className:"theme-info-value",children:p})]},s)),(0,g.jsxs)("p",{children:["Press ",(0,g.jsx)("kbd",{children:"F8"})," to pause script execution."]}),(0,g.jsx)("button",{onClick:()=>{j({autoHideDuration:1e4,message:"Debug Menu notification lolololol"})},children:"Special Button"}),(0,g.jsx)("div",{className:"loading-wrapper",children:(0,g.jsx)(Be,{})}),(0,g.jsx)(h.React.duplicate,{size:50}),(0,g.jsx)(h.React.palette,{size:50}),(0,g.jsxs)(Spicetify.ReactComponent.Cards.Default,{id:"card-id",title:"Card Title",subtitle:"Card Subtitle",media:"https://placehold.co/100",size:"sm",onClick:()=>console.log("Card clicked"),children:[(0,g.jsx)(Spicetify.ReactComponent.Cards.Default.Body,{children:"Additional content here"}),(0,g.jsx)(Spicetify.ReactComponent.Cards.Default.Footer,{children:"Footer content"})]}),(0,g.jsx)(Spicetify.ReactComponent.TextComponent,{semanticColor:"textBase",variant:"viola",weight:"book",children:"Hello World"}),(0,g.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"Hello World",placement:"top",trigger:"mouseenter",children:(0,g.jsx)("div",{children:"Hover me"})}),(0,g.jsx)(ae,{name:"BITCH",desc:"REEEEEE",tippy:"HELLOE",popupModal:ze,children:(0,g.jsx)(re,{value:a,onChange:()=>i(!a)})})]})}),W=ze;var Nt=()=>{Spicetify.Mousetrap.bind(["up up down down left right left right b a","v e r s i o n","s p o t i f y","s p i c e t i f y","d e b u g"],()=>{E({title:"Theme Version",content:W})})},Fe=Nt;var At={get(e,t){try{let o=localStorage.getItem(e);return o!=null?JSON.parse(o):t}catch(o){return console.error(`Error getting ${e} from localStorage:`,o),t}},set(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(o){return d.Error(`Error setting ${e} in localStorage:`,o),!1}}},y=At;var se=l(f(),1);var le=l(f(),1);var q=l(f(),1);var k=l(c(),1),Bt=(0,q.memo)(({value:e,options:t,onChange:o,disabled:n})=>{let a=(0,q.useId)(),i=(0,q.useRef)(null),r=`--dropdown-anchor-${a.replace(/:/g,"id")}`,s=m=>{o?.({target:{value:m.value}}),i.current?.hidePopover()},p=t.find(m=>m.value===e)?.label||"Select...";return(0,k.jsxs)("div",{className:`themeOptionDropdown ${n?"disabled":""}`,children:[(0,k.jsxs)("button",{className:"themeOptionDropdownButton",popovertarget:a,popovertargetaction:"toggle",disabled:n,style:{anchorName:r},children:[(0,k.jsx)("div",{className:"themeOptionDropdownText",children:p}),(0,k.jsx)("div",{className:"themeOptionDropdownArrow",children:(0,k.jsx)(h.React.dropdown,{size:12})})]}),(0,k.jsx)("div",{popover:"auto",id:a,ref:i,className:"themeOptionDropdownMenu",style:{top:`calc(anchor(${r} bottom) + 4px)`,left:`anchor(${r} left)`,width:`anchor-size(${r} width)`},children:t.map(m=>(0,k.jsx)("div",{className:`themeOptionDropdownOptions ${e===m.value?"selected":""}`,onClick:()=>s(m),children:m.label},m.value))})]})}),Xe=Bt;var Ze=l(f(),1),je=l(c(),1),_t=(0,Ze.memo)(({value:e,onChange:t,placeholder:o,disabled:n})=>(0,je.jsx)("input",{className:"themeOptionInput",type:"text",value:e,onChange:t,placeholder:o,disabled:n})),Ge=_t;var be=l(c(),1),Dt=(0,le.memo)(({option:e,value:t,onChange:o,disabled:n})=>{let a=(0,le.useCallback)(s=>{let p=e.type==="toggle"?!t:s.target.value;o(`theme:${e.name}`,p)},[e.name,e.type,t,o]),i,r={value:t,onChange:a,disabled:n};return e.type==="toggle"?i=re:e.type==="dropdown"?(i=Xe,r.options=e.options):e.type==="input"&&(i=Ge,r.placeholder=e.placeholder),(0,be.jsx)(ae,{name:e.name,desc:e.desc,tippy:e.tippy,popupModal:e.popupModal,children:(0,be.jsx)(i,{...r})})}),O=Dt;var H=l(f(),1);var $t=e=>{let[t,o]=(0,H.useState)(()=>Object.fromEntries(e.map(r=>[r.name,y.get(`theme:${r.name}`,r.defaultVal)]))),n=(0,H.useCallback)((r,s)=>{o(p=>({...p,[r]:s})),r.toLowerCase().includes("windowcontrol")&&document.documentElement.style.setProperty(`--windowcontrol-${r.replace("WindowsControl","").toLowerCase()}`,s)},[]),a=(0,H.useCallback)(()=>{let r=Object.fromEntries(e.map(s=>[s.name,s.defaultVal]));o(r),e.forEach(s=>{let p=`theme:${s.name}`;y.set(p,s.defaultVal),document.documentElement.style.setProperty(`--windowcontrol-${s.name.replace("WindowsControl","").toLowerCase()}`,s.defaultVal),document.body.classList.toggle(s.name,s.defaultVal),s.run?.(s.defaultVal)})},[e]),i=(0,H.useCallback)(()=>{Object.entries(t).forEach(([r,s])=>{y.set(`theme:${r}`,s);let p=e.find(m=>m.name===r);p&&(document.body.classList.toggle(r,s),p.run?.(s))})},[t,e]);return{settings:t,updateSetting:n,resetSettings:a,saveSettings:i}},U=$t;var _=l(c(),1),Wt=(0,se.memo)(()=>{let{settings:e,updateSetting:t,resetSettings:o,saveSettings:n}=U(P);return(0,se.useEffect)(()=>{P.forEach(a=>a.run?.(e[a.name]))},[e]),(0,_.jsxs)("div",{className:"themeModalOptions albumBannerSettings",children:[P.map(a=>(0,_.jsx)(O,{option:a,value:e[a.name],onChange:(i,r)=>t(i.replace("theme:",""),r)},a.name)),(0,_.jsxs)("div",{className:"buttonContainer",children:[(0,_.jsx)("button",{className:"resetButton",onClick:o,children:"Reset"}),(0,_.jsx)("button",{className:"saveButton",onClick:n,children:"Save"})]})]})}),P=[{type:"toggle",name:"AlbumBannerPage",desc:"Puts album art in places",defaultVal:!0},{type:"toggle",name:"LyricsPage",desc:"Adds Dynamic backgrounds to Lyrics Page",defaultVal:!0,tippy:"Includes Spotify Lyrics page and Spicetify's Lyrics Plus"},{type:"toggle",name:"PlaylistPage",desc:"Adds Dynamic backgrounds to your Playlist Pages",defaultVal:!0},{type:"toggle",name:"ArtistPage",desc:"Adds Dynamic backgrounds to Artist Pages",defaultVal:!0},{type:"toggle",name:"AlbumPage",desc:"Adds Dynamic backgrounds to Album Pages",defaultVal:!0},{type:"toggle",name:"MiscPage",desc:"Adds Dynamic backgrounds to Misc Pages",defaultVal:!0,tippy:"Enables album art for Station, Collection, Show, Episode, Genre, User"}],Ke=Wt;var ce=l(f(),1);var D=l(c(),1),qt=(0,ce.memo)(()=>{let{settings:e,updateSetting:t,resetSettings:o,saveSettings:n}=U(K);return(0,ce.useEffect)(()=>{K.forEach(a=>a.run?.(e[a.name]))},[e]),(0,D.jsxs)("div",{className:"themeModalOptions windowsControlSettings",children:[K.map(a=>(0,D.jsx)(O,{option:a,value:e[a.name],onChange:(i,r)=>t(i.replace("theme:",""),r)},a.name)),(0,D.jsxs)("div",{className:"buttonContainer",children:[(0,D.jsx)("button",{className:"resetButton",onClick:o,children:"Reset"}),(0,D.jsx)("button",{className:"saveButton",onClick:n,children:"Save"})]})]})}),K=[{type:"input",name:"uifont",desc:"Changes the font of the Spotify app",defaultVal:"Segoe UI Variable Display",tippy:"This will only work if you have the font installed",popupModal:qt,run(e){document.documentElement.style.setProperty("--FontFamily",e)}}];var Ye=l(f(),1);var $=l(c(),1),Ht=(0,Ye.memo)(()=>{let{settings:e,updateSetting:t,resetSettings:o,saveSettings:n}=U(V);return(0,$.jsxs)("div",{className:"themeModalOptions windowsControlSettings",children:[V.map(a=>(0,$.jsx)(O,{option:a,value:e[a.name],onChange:(i,r)=>t(i.replace("theme:",""),r)},a.name)),(0,$.jsxs)("div",{className:"buttonContainer",children:[(0,$.jsx)("button",{className:"resetButton",onClick:o,children:"Reset"}),(0,$.jsx)("button",{className:"saveButton",onClick:n,children:"Save"})]})]})}),V=[{type:"toggle",name:"WindowsControl",desc:"Enable custom Windows Controls",defaultVal:!1,run:e=>{document.body.classList.toggle("WindowsControl",e)}},{type:"toggle",name:"HideWindowsControl",desc:"Removes Spotifys Windows Controls completely",defaultVal:!1,run:e=>{e?(Spicetify.Platform.ControlMessageAPI._updateUiClient.setButtonsVisibility({showButtons:!1}),Spicetify.Platform.ControlMessageAPI._updateUiClient.updateTitlebarHeight({height:1}),document.querySelectorAll(".CCIGxtpAreSdwWRo14FE").forEach(t=>{t.style.display="none"}),document.querySelectorAll(".main-topBar-topbarContentRight").forEach(t=>{t.style.paddingRight="8px"})):(Spicetify.Platform.ControlMessageAPI._updateUiClient.setButtonsVisibility({showButtons:!0}),Spicetify.Platform.ControlMessageAPI._updateUiClient.updateTitlebarHeight({height:64}),document.querySelectorAll(".CCIGxtpAreSdwWRo14FE").forEach(t=>{t.style.display=""}),document.querySelectorAll(".main-topBar-topbarContentRight").forEach(t=>{t.style.paddingRight=""}))}},{type:"input",name:"WindowsControlBrightness",desc:"Set Brightness",defaultVal:"2.12",run:e=>document.documentElement.style.setProperty("--windowcontrol-brightness",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlWidth",desc:"Set Width",defaultVal:"135px",run:e=>document.documentElement.style.setProperty("--windowcontrol-width",e)},{type:"input",name:"WindowsControlHeight",desc:"Set Height",defaultVal:"32px",run:e=>document.documentElement.style.setProperty("--windowcontrol-height",e)}],Je=Ht;var Ut=()=>{let e=(t,o)=>{t.forEach(n=>{let a=y.get(`theme:${n.name}`,n.defaultVal);o?document.documentElement.style.setProperty(o(n.name),a):document.body.classList.toggle(n.name,a)})};e(P),e(V,t=>`--windowcontrol-${t.replace("WindowsControl","").toLowerCase()}`)},pe=Ut;var zt=async e=>{if(e==="default"){document.querySelector("style.customColourScheme")?.remove();return}let n=(await(await fetch("https://raw.githubusercontent.com/veryboringhwl/spicetify/main/dist/color.ini")).text()).split(/[\r\n]+/).reduce((r,s)=>{let p=s.trim();if(p.startsWith(";"))return r;let m=p.match(/^\[([^\]]+)\]$/);if(m)return r[m[1]]={},r;let u=p.match(/^([^=]+?)\s*=\s*(.+)$/);if(u){let[,C,A]=u,Oe=Object.keys(r).pop();Oe&&(r[Oe][C]=A.split(";")[0].trim())}return r},{}),a=`${Object.entries(n[e]).reduce((r,[s,p])=>{let m=p.length===3?p.split("").map(u=>Number.parseInt(u+u,16)).join(", "):p.match(/\w\w/g).map(u=>Number.parseInt(u,16)).join(", ");return`${r}--spice-${s}:#${p};--spice-rgb-${s}:${m};`},":root{")}}`,i=document.querySelector("style.customColourScheme");i||(i=document.createElement("style"),i.classList.add("customColourScheme"),document.body.appendChild(i)),i.textContent=a},Qe=zt;var Ft=async()=>{for(;!Spicetify.Player.data?.item;)await new Promise(n=>setTimeout(n,10));let e={Album:{regex:/^\/album\//,key:"theme:AlbumPage"},Artist:{regex:/^\/artist\/(?!artists\b)\w+$/,key:"theme:ArtistPage"},Lyrics:{regex:/^\/lyrics$/,key:"theme:LyricsPage"},LyricsPlus:{regex:/^\/lyrics-plus$/,key:"theme:LyricsPage"},Playlist:{regex:/^\/playlist\//,key:"theme:PlaylistPage"},Station:{regex:/^\/station\/playlist\//,key:"theme:MiscPage"},Collection:{regex:/^\/collection\/tracks$/,key:"theme:MiscPage"},Show:{regex:/^\/show\//,key:"theme:MiscPage"},Episode:{regex:/^\/episode\//,key:"theme:MiscPage"},User:{regex:/^\/user\/(?!users\b)\w+$/,key:"theme:MiscPage"},Genre:{regex:/^\/genre\//,key:"theme:MiscPage"}},t=document.querySelector(".banner-image")||(()=>{let n=document.createElement("div");return n.className="banner-image",document.querySelector(".under-main-view")?.appendChild(n),n})(),o=()=>{let n=Spicetify.Player.data?.item?.metadata?.image_xlarge_url;if(Object.values(e).some(({regex:i,key:r})=>y.get(r,!1)&&i.test(Spicetify.Platform.History.location.pathname))){t.style.display="";let i=new Image;i.src=n,i.onload=()=>document.documentElement.style.setProperty("--image",`url(${n})`)}else t.style.display="none"};Spicetify.Platform.History.listen(o),Spicetify.Player.addEventListener("songchange",o),o()},et=Ft;var tt=async e=>{if(!Spicetify.Platform.UserAPI._product_state_service){setTimeout(()=>tt(e),100);return}let t={default:{"app-developer":"0",employee:"0"},developer:{"app-developer":"2",employee:"0"},employee:{"app-developer":"0",employee:"1"},both:{"app-developer":"2",employee:"1"}},o=t[e]||t.default,n=async(a,i)=>(await Spicetify.Platform.UserAPI._product_state_service.putValues({pairs:{[a]:i}}),Spicetify.Platform.UserAPI._product_state_service.subValues({keys:[a]},async r=>{r[a]!==i&&await Spicetify.Platform.UserAPI._product_state_service.putValues({pairs:{[a]:i}})}));window.appDevListener?.cancel(),window.employeeListener?.cancel(),window.appDevListener=await n("app-developer",o["app-developer"]),window.employeeListener=await n("employee",o.employee)},ot=tt;var Y=null,J=null;function Xt(e){let t=document.querySelector(".Root__globalNav");t&&(ve(t),e?Zt(t):ve(t))}function Zt(e){ve(e),e.classList.add("global-libraryX");let t=()=>{e.querySelectorAll(".main-globalNav-navLink, ._b3hhmbWtOY8_1M1mM1H").forEach(a=>{if(!a.querySelector(".main-globalNav-textWrapper")){let i=a.getAttribute("aria-label")||(a.querySelector("input")?"Search":""),r=document.createElement("span");r.className="main-globalNav-textWrapper",r.innerHTML=`<div class="main-globalNav-iconText encore-text-body-medium-bold">${i}</div>`,a.appendChild(r)}})};t(),Y=new MutationObserver(t),Y.observe(e,{childList:!0,subtree:!0});let o=()=>{let n=document.querySelector(".sikBfynL1Y6I25nVpbAg");e.classList.toggle("collapsed",n!=null)};o(),J=new MutationObserver(o),J.observe(document.body,{childList:!0,subtree:!0})}function ve(e){e.classList.remove("global-libraryX","collapsed"),Y&&(Y.disconnect(),Y=null),J&&(J.disconnect(),J=null),e.querySelectorAll(".main-globalNav-textWrapper").forEach(o=>o.remove())}var nt=Xt;var Gt=async(e,t=50)=>{let o=1;for(;!document.querySelector(e)&&o<t;)o=o+1,await new Promise(n=>setTimeout(n,100));return document.querySelector(e)||null},me=Gt;var Q=null,ee=null;async function jt(e){let t=await me(".Root__globalNav");Se(t),e?Kt(t):Se(t)}function Kt(e){Se(e),e.classList.add("global-libraryX");let t=()=>{e.querySelectorAll(".main-globalNav-navLink, ._b3hhmbWtOY8_1M1mM1H").forEach(a=>{if(!a.querySelector(".main-globalNav-textWrapper")){let i=a.getAttribute("aria-label")||(a.querySelector("input")?"Search":""),r=document.createElement("span");r.className="main-globalNav-textWrapper",r.innerHTML=`<div class="main-globalNav-iconText encore-text-body-medium-bold">${i}</div>`,a.appendChild(r)}})};t(),Q=new MutationObserver(t),Q.observe(e,{childList:!0,subtree:!0});let o=()=>{let n=document.querySelector(".sikBfynL1Y6I25nVpbAg");e.classList.toggle("collapsed",n!=null)};o(),ee=new MutationObserver(o),ee.observe(document.body,{childList:!0,subtree:!0})}function Se(e){e.classList.remove("global-libraryX","collapsed"),Q&&(d.Log("Removing libx observer"),Q.disconnect(),Q=null),ee&&(d.Log("Removing collapsedobserver"),ee.disconnect(),ee=null),e.querySelectorAll(".main-globalNav-textWrapper").forEach(o=>o.remove())}var at=jt;var Yt=async e=>{let t=await me(".main-nowPlayingBar-volumeBar"),o=()=>{let n=t.querySelector(".vol-input");n&&(n.value=Math.round(Spicetify.Player.getVolume()*100))};if(e){if(!t.querySelector(".vol-percent")){t.insertAdjacentHTML("beforeend",`
							<div class="vol-percent" style="display: inline-flex; align-items: center;">
									<input type="text" class="vol-input" 
											style="width: 30px; font-size: 15px; border: none; background: transparent; text-align: right;">
									<span style="font-size: 15px;">%</span>
							</div>
					`),t.style.flex="0 1 200px";let n=t.querySelector(".vol-input");n.addEventListener("change",()=>{let a=Number.parseInt(n.value,10);a>=0&&a<=100&&Spicetify.Player.setVolume(a/100)}),Spicetify.Platform.PlaybackAPI._events.addListener("volume",o),o()}}else{let n=document.querySelector(".main-nowPlayingBar-volumeBar");n&&(n.querySelector(".vol-percent")?.remove(),n.style.flex="",Spicetify.Platform.PlaybackAPI._events.removeListener("volume",o))}},it=Yt;var Jt={Features:[{type:"dropdown",name:"colourschemeselector",desc:"Change the colour scheme of Spotify",defaultVal:"default",options:[{value:"default",label:"Default"},{value:"dark",label:"Dark"},{value:"light",label:"Light"},{value:"bloom",label:"Bloom"},{value:"spotify",label:"Spotify"}],tippy:"Default uses the colour scheme set in config-xpui.ini",run(e){Qe(e)}},{type:"dropdown",name:"change-Spotify-mode",desc:"Change Spotify mode",defaultVal:"default",tippy:"Only takes effect after a restart",options:[{value:"default",label:"Default"},{value:"developer",label:"Developer"},{value:"employee",label:"Employee"},{value:"both",label:"Dev + Empl"}],run(e){ot(e)}},{type:"input",name:"ZoomLevel",desc:"Change the zoom level of Spotify page",defaultVal:100,placeholder:"100%",run(e){Zoomlevel=e/100,document.documentElement.style.setProperty("--Zoomlevel",Zoomlevel)}},{type:"toggle",name:"AlbumBannerPage",desc:"Put album cover art in various pages",defaultVal:!0,popupModal:Ke,run(e){et(e)}},{type:"toggle",name:"VolumePercentage",desc:"Show volume percentage next to volume slider",defaultVal:!0,run(e){it(e)}},{type:"toggle",name:"WindowsControl",desc:"Adjust the position and brightness of the windows controls",defaultVal:!1,tippy:"This will override the themes default windows controls",popupModal:Je},{type:"input",name:"uifont",desc:"Changes the font of the Spotify app",defaultVal:"SpotifyMixUI",placeholder:"SpotifyMixUI",tippy:"This will only work if you have the font installed locally",run(e){document.documentElement.style.setProperty("--FontFamily",e)}}],Layouts:[{type:"toggle",name:"LibX",desc:"Restore the old UI >2024 (Pre Global Nav Bar)",defaultVal:!1,incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",run(e){at(e)},reveal:[{type:"toggle",name:"highlightnav",desc:"Adds highlight to the selected page",defaultVal:!0},{type:"toggle",name:"PreLibX",desc:"Restore the old UI >2023 (Pre LibraryX)",defaultVal:!1},{type:"toggle",name:"CompactLib",desc:"Makes library compact while keeping icons",defaultVal:!1,tippy:"Broken if library is collapsed"}]},{type:"toggle",name:"AppleMusic",desc:"Changes the UI to look like Apple Music",defaultVal:!1,incompatible:["LibX","switchlayout","TestLayout","greenicon"],tippy:"Incompatible with LibX, Switchlayout, greenicon and testlayout",run(e){nt(e)}},{type:"toggle",name:"TestLayout",desc:"Rearrange playbutton to start and cover art to middle",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0},{type:"toggle",name:"switchlayout",desc:"Uses different grid layout for Now playing bar",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0}],Snippets:[{type:"toggle",name:"hidetracklistnum",desc:"Hide tracklist numbers in various pages",defaultVal:!0},{type:"toggle",name:"greenicon",desc:"Make the selected tab icon green",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0},{type:"toggle",name:"transplayicon",desc:"Make the play/pause button transparent",defaultVal:!0},{type:"toggle",name:"npvlargerlyrics",desc:"Show lyrics only in Now playing view",defaultVal:!1},{type:"toggle",name:"homeheader",desc:"Remove the coloured gradient from the home page header",defaultVal:!0}],Test:[{type:"toggle",name:"test-toggle",desc:"test-toggle",defaultVal:!0,popupModal:W,incompatible:["test-incompatible-toggle","test-incompatible-input","test-incompatible-dropdown"],tippy:"Incompatible with test-incompatible",run(e){console.log("test-toggle set to ",e)}},{type:"toggle",name:"test-incompatible-toggle",desc:"test-incompatible-toggle",defaultVal:!0},{type:"input",name:"test-incompatible-input",desc:"test-incompatible-input",defaultVal:1,placeholder:"does something"},{type:"dropdown",name:"test-incompatible-dropdown",desc:"test-incompatible-dropdown",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}]},{type:"input",name:"test-input",desc:"test-input",defaultVal:1,placeholder:"does something"},{type:"dropdown",name:"test-dropdown",desc:"test-dropdown",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}]},{type:"toggle",name:"test-reveal",desc:"test-reveal",defaultVal:!0,reveal:[{type:"toggle",name:"revealed-toggle",desc:"revealed-toggle",defaultVal:!0},{type:"input",name:"revealed-input",desc:"revealed-input",defaultVal:!0},{type:"dropdown",name:"revealed-dropdown",desc:"revealed-dropdown",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}]}]}]},S=Jt;var Qt=(e,t=[])=>{try{Object.values(S).flat().forEach(({name:o,type:n,reveal:a,run:i})=>{let r=`theme:${o}`,s=e[r];n==="toggle"&&document.body.classList.toggle(o,s),a&&a.forEach(({name:p,type:m})=>{m==="toggle"&&document.body.classList.toggle(p,s&&e[`theme:${p}`])}),t.includes(r)&&i&&i(s)})}catch(o){d.Error("Failed to apply options:",o)}},z=Qt;function eo(e){let t={};for(let o of e){let n=`theme:${o.name}`;if(t[n]=y.get(n,o.defaultVal),o.reveal)for(let a of o.reveal){let i=`theme:${a.name}`;t[i]=t[n]?y.get(i,a.defaultVal):!1}}return t}var de=eo;var to=()=>{try{d.Log("Initialising options");let e=de(Object.values(S).flat()),t=[...Object.values(S).flat(),...V,...P,...K];return t.forEach(o=>{let n=`theme:${o.name}`;localStorage.getItem(n)===null&&y.set(n,o.defaultVal),o.reveal&&o.reveal.forEach(a=>{let i=`theme:${a.name}`;localStorage.getItem(i)===null&&y.set(i,e[n]?a.defaultVal:!1)})}),t.forEach(o=>{let n=`theme:${o.name}`,a=e[n];o.run&&o.run(a)}),z(e),pe(),e}catch(e){d.Error("Failed to initialise options:",e)}},rt=to;var vt=l(te(),1);var Ce=l(f(),1),lt=l(te(),1),ue=l(c(),1);function oo({titleText:e,descriptionText:t,cancelText:o="Cancel",confirmText:n="Confirm",onConfirm:a,onClose:i,onOpen:r,onOutside:s,allowHTML:p}){let m=Ce.default.memo(()=>{let[u,C]=Spicetify.React.useState(!0),A=document.querySelector(".ReactModalPortal:last-of-type");return Ce.default.useEffect(()=>{u&&r?.()},[u,r]),(0,ue.jsx)(Spicetify.ReactComponent.RemoteConfigProvider,{configuration:Spicetify.Platform.RemoteConfiguration,children:(0,ue.jsx)(Spicetify.ReactComponent.ConfirmDialog,{titleText:e,descriptionText:t,cancelText:o,confirmText:n,isOpen:u,onOutside:()=>{C(!1),s?.(),A?.remove()},onClose:()=>{C(!1),i?.(),A?.remove()},onConfirm:()=>{C(!1),a?.(),A?.remove()},allowHTML:p})})});lt.default.createRoot(document.createElement("div")).render((0,ue.jsx)(m,{}))}var fe=oo;var no={Reload:()=>{location.reload()},Restart:()=>{Spicetify.Platform.UpdateAPI.applyUpdate()}},we=no;var N=l(f(),1);var F=l(f(),1),Me=l(c(),1),ao=(0,F.memo)(({categories:e,selectedCategory:t,onSelectCategory:o})=>{let n=(0,F.useRef)(null);(0,F.useEffect)(()=>{let r=p=>{n.current&&(n.current.scrollLeft+=p.deltaY,p.preventDefault())},s=n.current;return s?.addEventListener("wheel",r,{passive:!1}),()=>s?.removeEventListener("wheel",r)},[]);let a=e.length,i=`calc((100% - ${(a-1)*8}px) / ${a})`;return(0,Me.jsx)("div",{className:"carouselContainer",ref:n,children:e.map(r=>(0,Me.jsx)("button",{className:`category-button ${t===r?"active":""}`,onClick:()=>o(r),style:{width:i},children:r},r))})}),st=ao;var ft=l(f(),1);var ct=l(f(),1);var mt=l(c(),1),io=(0,ct.memo)(({option:e,settings:t,onChange:o})=>{let a=Object.values(S).flat().some(i=>i.incompatible?.includes(e.name)&&t[`theme:${i.name}`]);return(0,mt.jsx)(O,{option:e,value:t[`theme:${e.name}`],onChange:o,disabled:a})}),pt=io;var dt=l(f(),1);var xe=l(c(),1),ro=(0,dt.memo)(({option:e,settings:t,onChange:o})=>(0,xe.jsx)("div",{className:"themeOptionRevealed",children:e.reveal.map(n=>(0,xe.jsx)(O,{option:n,value:t[`theme:${n.name}`],onChange:o},n.name))})),ut=ro;var X=l(c(),1),lo=(0,ft.memo)(({option:e,settings:t,onChange:o})=>{let n=t[`theme:${e.name}`];return(0,X.jsxs)("div",{className:"themeOptionWrapper",children:[(0,X.jsx)("div",{className:"themeOptionMain",children:(0,X.jsx)(pt,{option:e,settings:t,onChange:o})}),n&&e.reveal&&(0,X.jsx)(ut,{option:e,settings:t,onChange:o})]})}),gt=lo;var ge=l(f(),1);var so=e=>{fe({titleText:"Are you sure?",descriptionText:"This will reset all settings to default!",confirmText:"Reset",onConfirm:()=>{try{d.Log("Resetting settings");let t=[...Object.values(S).flat(),...P,...V],o={};t.forEach(n=>{let a=`theme:${n.name}`;o[a]=n.defaultVal,n.reveal&&n.reveal.forEach(i=>{o[`theme:${i.name}`]=n.defaultVal?i.defaultVal:!1})}),Object.entries(o).forEach(([n,a])=>{y.set(n,a)}),e(o),z(o,Object.keys(o)),pe()}catch(t){d.Error("Failed to reset settings:",t)}}})},yt=so;var co=e=>{try{let t=[];return Object.entries(e).forEach(([o,n])=>{let a=y.get(o,null);JSON.stringify(a)!==JSON.stringify(n)&&(y.set(o,n),t.push(o))}),t.length>0&&(d.Log(`Saving settings: ${t.join(", ")}`),z(e,t)),e}catch(t){return d.Error("Failed to save settings:",t),e}},ht=co;var po=()=>{let e=Object.values(S).flat(),[t,o]=(0,ge.useState)(()=>de(e)),n=(0,ge.useCallback)((a,i)=>{o(r=>{let s={...r,[a]:i},p=a.replace("theme:",""),m=e.find(u=>u.name===p);return m?.reveal&&m.reveal.forEach(u=>{let C=`theme:${u.name}`;i?s[C]=u.defaultVal:s[C]=!1}),i&&m?.incompatible&&m.incompatible.forEach(u=>{s[`theme:${u}`]=!1}),s})},[e]);return{settings:t,handleSettingChange:n,resetSettings:()=>yt(o),saveSettings:()=>{let a=ht(t);o(a)}}},bt=po;var x=l(c(),1),mo=(0,N.memo)(()=>{let{settings:e,handleSettingChange:t,resetSettings:o,saveSettings:n}=bt(),a=["All",...Object.keys(S)],[i,r]=(0,N.useState)("All"),s=(0,N.useCallback)(m=>{r(m)},[]),p=(0,N.useMemo)(()=>i==="All"?Object.entries(S):Object.entries(S).filter(([m])=>m===i),[i]);return(0,x.jsxs)("div",{className:"themeContainer",children:[(0,x.jsx)(st,{categories:a,selectedCategory:i,onSelectCategory:s}),(0,x.jsx)("div",{className:"optionsContainer",children:p.map(([m,u])=>(0,x.jsxs)("div",{className:`themeOptionsCategory ${m.toLowerCase()}Container`,children:[(0,x.jsx)("h2",{className:"categoryTitle",children:m}),u.map(C=>(0,x.jsx)(gt,{option:C,settings:e,onChange:t},C.name))]},m))}),(0,x.jsxs)("div",{className:"buttonContainer",children:[(0,x.jsx)("button",{className:"resetButton",onClick:o,children:"Reset"}),(0,x.jsx)("button",{className:"saveButton",onClick:n,children:"Save"})]})]})}),Le=mo;var b=l(c(),1),uo=()=>{let e="settings-menu-popover",t=document.getElementById(e),o=()=>{t?.hidePopover?.()},n=i=>{i.preventDefault(),t?.showPopover?.()};t||(t=document.createElement("div"),t.id=e,t.style.top="calc(anchor(--SettingsButton bottom) + 8px)",t.style.left="anchor(--SettingsButton left)",t.style.background="transparent",t.style.overflow="visible",t.popover="auto",document.body.appendChild(t),vt.default.createRoot(t).render((0,b.jsxs)(Spicetify.ReactComponent.Menu,{children:[(0,b.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{we.Reload(),o()},leadingIcon:(0,b.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.repeat}}),children:"Reload theme"},"reload-theme"),(0,b.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{we.Restart(),o()},leadingIcon:(0,b.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.locked}}),divider:"after",children:"Restart Spotify"},"restart-spotify"),(0,b.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{fe({titleText:"Confirm Dialog",descriptionText:"Are you <b>sure</b>?",onOutside:()=>Spicetify.showNotification("Clicked outside"),confirmLabel:"Ok",allowHTML:!0}),o()},leadingIcon:(0,b.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.check}}),divider:"after",children:"Confirm Dialog"},"confirm-dialog"),(0,b.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{E({title:"Theme Settings",content:Le}),o()},leadingIcon:(0,b.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.subtitles}}),children:"Theme Settings"},"theme-settings-menu"),(0,b.jsx)(Spicetify.ReactComponent.MenuItem,{onClick:()=>{E({title:"Debug Menu",content:W}),o()},leadingIcon:(0,b.jsx)("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.menu}}),children:"Debug Menu"},"debug-menu")]})));let a=new Spicetify.Topbar.Button("Theme Settings",`<svg viewBox="0 0 16 16" width="16px" height="16px" fill="currentColor">${h.settings}</svg>`,()=>{E({title:"Theme Settings",content:Le,buttons:(0,b.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"GitHub",placement:"top",children:(0,b.jsx)("button",{type:"button",className:"Modal__button Modal__button--github",onClick:()=>window.open("https://github.com/veryboringhwl/spicetify"),children:(0,b.jsx)(h.React.github,{size:18})})}),icon:(0,b.jsx)(h.React.settings,{size:30})})},!1,!0);return a.element.oncontextmenu=n,a.element.style.anchorName="--SettingsButton",a},St=uo;var M=l(c(),1);(async function(){try{let s=Date.now();for(;!(Spicetify.Config&&Spicetify.React&&Spicetify.ReactDOM&&Spicetify.CosmosAsync&&Spicetify.Mousetrap&&Spicetify.Platform&&Spicetify.ReactComponent&&Spicetify.Snackbar.enqueueCustomSnackbar&&Spicetify.Snackbar.enqueueSnackbar);){if(Date.now()-s>2500)throw new Error("Required Spicetify components not found within timeout.");await new Promise(p=>setTimeout(p,10))}}catch(s){d.Error(s.message),j({autoHideDuration:1e4,backgroundColor:"#ff9800",color:"#fff",message:(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(h.React.warning,{size:24}),(0,M.jsx)("span",{children:"Required Spicetify components not found, some features may not work."}),(0,M.jsx)("span",{children:"Please refresh the page and try again."})]})})}d.Log("Spicetify theme initialising"),Spicetify.Mousetrap.bind(["escape"],()=>{Spicetify.PopupModal.hide()}),Spicetify.Mousetrap.bind("f8",()=>{debugger});let t=50,o=61,[n,a,i]=Spicetify.Platform.version.split(".").map(Number);i>=t&&i<=o||j({autoHideDuration:5e3,backgroundColor:"#ff9800",color:"#fff",message:(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(h.React.warning,{size:24}),(0,M.jsxs)("span",{children:["Theme supports Spotify v",n,".",a,".",t," to v",n,".",a,".",o,". Your version: ",n,".",a,".",i]})]})}),Fe(),St(),rt(),d.Log("Spicetify theme initialised")})();
})();
