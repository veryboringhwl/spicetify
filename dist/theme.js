(async function() {
          while (!Spicetify.React || !Spicetify.ReactDOM) {
            await new Promise(resolve => setTimeout(resolve, 1));
          }
var Ke=Object.create;var fe=Object.defineProperty;var Ye=Object.getOwnPropertyDescriptor;var Je=Object.getOwnPropertyNames;var Qe=Object.getPrototypeOf,et=Object.prototype.hasOwnProperty;var ge=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var tt=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Je(t))!et.call(e,r)&&r!==n&&fe(e,r,{get:()=>t[r],enumerable:!(o=Ye(t,r))||o.enumerable});return e};var c=(e,t,n)=>(n=e!=null?Ke(Qe(e)):{},tt(t||!e||!e.__esModule?fe(n,"default",{value:e,enumerable:!0}):n,e));var m=ge((Ft,ye)=>{ye.exports=Spicetify.React});var Y=ge((Xt,he)=>{he.exports=Spicetify.ReactDOM});var M=c(m(),1);var V=c(m(),1),ve=c(Y(),1);var be=c(m(),1),_=(e,t=16)=>({size:n=t,fill:o="currentColor"})=>be.default.createElement("svg",{viewBox:`0 0 ${t} ${t}`,width:n,height:n,fill:o,dangerouslySetInnerHTML:{__html:e}}),L={editButton:'<path d="M17.318 1.975a3.329 3.329 0 1 1 4.707 4.707L8.451 20.256c-.49.49-1.082.867-1.735 1.103L2.34 22.94a1 1 0 0 1-1.28-1.28l1.581-4.376a4.726 4.726 0 0 1 1.103-1.735L17.318 1.975zm3.293 1.414a1.329 1.329 0 0 0-1.88 0L5.159 16.963c-.283.283-.5.624-.636 1l-.857 2.372 2.371-.857a2.726 2.726 0 0 0 1.001-.636L20.611 5.268a1.329 1.329 0 0 0 0-1.879z"/>',settings:'<path d="M8 5.36a2.68 2.68 90 100 5.36 2.68 2.68 90 000-5.36zM6.7 8.04a1.34 1.34 90 112.68 0 1.34 1.34 90 01-2.68 0zM11.55 3.21a.95.9487 90 01-1.1042-.76l-.3484-1.8974a.4744.4744 90 00-.3685-.3779 8.1365 8.1365 90 00-3.3755 0 .4744.4744 90 00-.3685.3779l-.3471 1.8974a.9514.9514 90 01-1.2542.7209l-1.8211-.6486a.4757.4757 90 00-.5119.1273c-.7625.8402-1.34 1.8318-1.6911 2.9118a.4717.4717 90 00.1447.5065l1.4767 1.2475a.9434.9434 90 010 1.4418l-1.4767 1.2475a.4717.4717 90 00-.1447.5065A8.0212 8.0212 90 002.0502 13.4268a.4757.4757 90 00.5119.1273l1.8224-.6486a.9487.9487 90 011.2542.7209l.3457 1.8974c.0348.1876.1809.3377.3685.3765a8.1405 8.1405 90 003.3768 0 .473.473 90 00.3672-.3765l.3484-1.8974a.9514.9514 90 011.2542-.7209l1.8211.6486c.1809.0643.3832.0134.5119-.1273.7625-.8402 1.34-1.8318 1.6911-2.9118a.4717.4717 90 00-.1447-.5065l-1.4767-1.2475a.942.942 90 010-1.4418l1.4767-1.2475a.4717.4717 90 00.1447-.5065A8.0199 8.0199 90 0014.0298 2.6532a.4757.4757 90 00-.5119-.1273l-1.8224.6486a.9514.9514 90 01-.1487.0402zm-8.8708.7772 1.2556.4462a2.2914 2.2914 90 003.0217-1.742l.2372-1.2998a6.8407 6.8407 90 011.6951 0l.2385 1.2998a2.2887 2.2887 90 003.0217 1.742L13.4 3.9892c.3417.4476.6258.9353.8442 1.4526l-1.0104.8536a2.2834 2.2834 90 000 3.4894l1.0117.8536a6.6866 6.6866 90 01-.8442 1.4526l-1.2556-.4476a2.2914 2.2914 90 00-3.0217 1.742l-.2385 1.2998a6.8327 6.8327 90 01-1.6951 0l-.2372-1.2998a2.2887 2.2887 90 00-3.0217-1.742L2.68 12.0908a6.6826 6.6826 90 01-.8442-1.4526l1.0104-.8549a2.2834 2.2834 90 000-3.488l-1.0117-.8536c.2198-.5172.5038-1.005.8442-1.4526z"/>',github:'<path d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"/>',close:'<path d="M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143"/>',warning:'<path d="M12.884 2.532c-.346-.654-1.422-.654-1.768 0l-9 17A1 1 0 0 0 3 21h18a1 1 0 0 0 .884-1.5zM13 18h-2v-2h2zm-2-4V9h2l0 5z"/>',more:'<path d="M3 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm6.5 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zM16 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>'};L.React={editButton:_(L.editButton,24),settings:_(L.settings,16),github:_(L.github,96),close:_(L.close,32),warning:_(L.warning,24),more:_(L.more,16)};var b=L;var ot=async(e,t=50)=>{let n=1;for(;!document.querySelector(e)&&n<t;)n=n+1,await new Promise(o=>setTimeout(o,100));return document.querySelector(e)||null},D=ot;var nt=(e,t)=>{t&&Spicetify.Tippy(e,{...Spicetify.TippyProps,content:t,placement:"top",delay:[0,0],onShow(n){n.popper.classList.add("options-tippy")}})},C=nt;var rt=async()=>{let e=await D(".main-trackCreditsModal-header");document.querySelector(".main-trackCreditsModal-closeBtn")?.remove();let t=document.createElement("div");t.className="main-trackCreditsModal-BtnContainer",ve.default.createRoot(t).render(V.default.createElement(V.default.Fragment,null,V.default.createElement("button",{className:"main-trackCreditsModal-githubBtn",onClick:()=>window.open("https://github.com/veryboringhwl/spicetify"),ref:n=>n&&C(n,"View on GitHub")},V.default.createElement(b.React.github,{size:18})),V.default.createElement("button",{className:"main-trackCreditsModal-closeBtn",onClick:()=>Spicetify.PopupModal.hide(),ref:n=>n&&C(n,"Close")},V.default.createElement(b.React.close,{size:18})))),e.appendChild(t)},Se=rt;var at=({title:e="",content:t="",isLarge:n=!0,buttons:o=!0}={})=>{requestAnimationFrame(()=>{Spicetify.PopupModal.display({title:e,content:Spicetify.React.createElement(t),isLarge:n}),o===!0&&Se()})},O=at;var y=c(m(),1);var W=c(m(),1),it=()=>W.default.createElement("div",{className:"loading-indicator-container"},W.default.createElement("svg",{viewBox:"0 0 120 40",className:"loading-indicator"},W.default.createElement("circle",{stroke:"none",cx:"20",cy:"20",r:"8",className:"loading-indicator-circle"}),W.default.createElement("circle",{stroke:"none",cx:"60",cy:"20",r:"8",className:"loading-indicator-circle"}),W.default.createElement("circle",{stroke:"none",cx:"100",cy:"20",r:"8",className:"loading-indicator-circle"}))),we=it;var G={Log:(...e)=>console.log(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#272ab0; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-left:none; border-radius:0 3px 3px 0;"),Error:(...e)=>console.error(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#ff6060; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #ee6969; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #ee6969; border-left:none; border-radius:0 3px 3px 0;"),Warn:(...e)=>console.warn(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#ee8860; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #ff8860; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #ff8860; border-left:none; border-radius:0 3px 3px 0;"),Debug:(...e)=>console.debug(`%c\u25CF \u1D17 \u25CF [Theme]%c${e.join(" ")}`,"color:#272ab0; font-weight:1000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-right:none; border-radius:3px 0 0 3px;","color:#000000; background:#ffffff; padding:3px; border:2px solid #272ab0; border-left:none; border-radius:0 3px 3px 0;")};G.Log("Log message");G.Error("Error message");G.Warn("Warning message");G.Debug("Debug message");var p=G;var Ce=c(m(),1),lt=({message:e="",keyPrefix:t="custom-notif",autoHideDuration:n=3e3,backgroundColor:o="#fff"}={})=>{Spicetify.Snackbar.enqueueCustomSnackbar(t,{keyPrefix:t,autoHideDuration:n,children:Ce.default.createElement("div",{className:"custom-notification",style:{display:"flex",gap:"8px",alignItems:"center",color:"#fff",backgroundColor:o,padding:"14px 16px",borderRadius:"4px",fontSize:"0.875rem"}},e)})},R=lt;var st=y.default.memo(()=>{let[e,t]=y.default.useState("Loading..."),[n,o]=y.default.useState("Loading...");y.default.useEffect(()=>{(async()=>{try{let l=await(await fetch("https://api.github.com/repos/veryboringhwl/spicetify/releases/latest")).json();t(l.tag_name);let s=new Date(l.published_at),d={year:"numeric",month:"long",day:"numeric"},f=s.toLocaleString("en-GB",d);o(f)}catch(i){p.Error("Error fetching latest version:",i),t("Error fetching"),o("Error fetching")}})()},[]);let r={"Current Theme Version":"v1.1.0","Newest Theme Version":e,"Last Updated":n,"Spotify Version":Spicetify.Platform.version,"Spicetify Version":Spicetify.Config.version,Platform:Spicetify.Platform.PlatformData.app_platform,OS:Spicetify.Platform.PlatformData.os_name,Theme:Spicetify.Config.current_theme,Extensions:Spicetify.Config.extensions.join(", "),"Custom apps":Spicetify.Config.custom_apps.join(", "),"Color Scheme":Spicetify.Config.color_scheme};return y.default.createElement("div",{className:"theme-version"},Object.entries(r).map(([a,i])=>y.default.createElement("p",{key:a,className:"theme-info-item"},y.default.createElement("span",{className:"theme-info-key encore-text-body-medium-bold"},a,": "),y.default.createElement("span",{className:"theme-info-value"},i))),y.default.createElement("button",{onClick:()=>R({autoHideDuration:99999999,message:"Theme only supports Spotify versions greater than 1.2.50.000"})},"Special Button"),y.default.createElement("div",{className:"loading-wrapper"},y.default.createElement(we,null)),y.default.createElement("svg",{viewBox:"0 0 16 16",width:"128",height:"128",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.menu}}))}),j=st;var ct=()=>{Spicetify.Mousetrap.bind(["up up down down left right left right b a","v e r s i o n","s p o t i f y","s p i c e t i f y","d e b u g"],()=>{O({title:"Theme Version",content:j})})},xe=ct;var mt=()=>{let e=window.outerWidth,t=window.innerWidth,n=window.devicePixelRatio,o=()=>{let r=window.outerWidth,a=window.innerWidth,i=window.devicePixelRatio;if((e<=160||n!==i)&&(e!==r||t!==a)){let l=r/a||1;document.documentElement.style.setProperty("--zoom",l),p.Log(`Zoom: ${l}`),e=r,t=a,n=i}requestAnimationFrame(o)};o()},Me=mt;var pt={get(e,t){try{let n=localStorage.getItem(e);return n!=null?JSON.parse(n):t}catch(n){return console.error(`Error getting ${e} from localStorage:`,n),t}},set(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return p.Error(`Error setting ${e} in localStorage:`,n),!1}}},u=pt;var S=c(m(),1);var dt=async()=>{for(;!Spicetify.Player.data?.item;)await new Promise(o=>setTimeout(o,10));let e={Album:{regex:/^\/album\//,key:"theme:AlbumPage"},Artist:{regex:/^\/artist\/(?!artists\b)\w+$/,key:"theme:ArtistPage"},Lyrics:{regex:/^\/lyrics$/,key:"theme:LyricsPage"},LyricsPlus:{regex:/^\/lyrics-plus$/,key:"theme:LyricsPage"},Playlist:{regex:/^\/playlist\//,key:"theme:PlaylistPage"},Station:{regex:/^\/station\/playlist\//,key:"theme:MiscPage"},Collection:{regex:/^\/collection\/tracks$/,key:"theme:MiscPage"},Show:{regex:/^\/show\//,key:"theme:MiscPage"},Episode:{regex:/^\/episode\//,key:"theme:MiscPage"},User:{regex:/^\/user\/(?!users\b)\w+$/,key:"theme:MiscPage"},Genre:{regex:/^\/genre\//,key:"theme:MiscPage"}},t=document.querySelector(".banner-image")||(()=>{let o=document.createElement("div");return o.className="banner-image",document.querySelector(".under-main-view")?.appendChild(o),o})(),n=()=>{let o=Spicetify.Player.data?.item?.metadata?.image_xlarge_url;if(Object.values(e).some(({regex:a,key:i})=>u.get(i,!1)&&a.test(Spicetify.Platform.History.location.pathname))){t.style.display="";let a=new Image;a.src=o,a.onload=()=>document.documentElement.style.setProperty("--image",`url(${o})`)}else t.style.display="none"};Spicetify.Platform.History.listen(n),Spicetify.Player.addEventListener("songchange",n),n()},J=dt;var se=c(m(),1);var P=c(m(),1);var E=c(m(),1);var Q=c(m(),1);var ut=Q.default.memo(({name:e,popupModal:t})=>t?Q.default.createElement("button",{className:"themeOptionPopupButton",onClick:()=>O({title:e,content:t,isLarge:!1,buttons:!1}),"aria-label":"Open popup"},Q.default.createElement(b.React.editButton,{size:16})):null),Le=ut;var ft=E.default.memo(({name:e,desc:t,children:n,popupModal:o})=>E.default.createElement("div",{className:"themeOptionRow","data-name":`theme:${e}`},E.default.createElement("div",{className:"themeOptionContent"},E.default.createElement("div",{className:"themeOptionDesc"},t)),E.default.createElement("div",{className:"themeOptionControl"},E.default.createElement(Le,{name:e,popupModal:o}),n))),q=ft;var gt=P.default.memo(({name:e,desc:t,tippy:n,value:o,options:r,onChange:a,popupModal:i})=>{let l=P.default.useRef(null);P.default.useEffect(()=>{l.current&&n&&C(l.current,n)},[n]);let s=P.default.useCallback(d=>{a(`theme:${e}`,d.target.value)},[e,a]);return P.default.createElement(q,{name:e,desc:t,popupModal:i},P.default.createElement("select",{className:"themeOptionDropdown",value:o,onChange:s,ref:l},r.map(({value:d,label:f})=>P.default.createElement("option",{key:d,value:d},f))))}),Oe=gt;var N=c(m(),1);var yt=N.default.memo(({name:e,desc:t,tippy:n,value:o,onChange:r,placeholder:a,popupModal:i})=>{let l=N.default.useRef(null);N.default.useEffect(()=>{l.current&&n&&C(l.current,n)},[n]);let s=N.default.useCallback(d=>r(`theme:${e}`,d.target.value),[e,r]);return N.default.createElement(q,{name:e,desc:t,popupModal:i},N.default.createElement("input",{className:"themeOptionInput",type:"text",value:o,onChange:s,placeholder:a,ref:l}))}),Pe=yt;var v=c(m(),1);var ht=v.default.memo(({name:e,desc:t,tippy:n,value:o,onChange:r,disabled:a,popupModal:i})=>{let l=v.default.useRef(null);v.default.useEffect(()=>{l.current&&n&&C(l.current,n)},[n]);let s=v.default.useCallback(()=>{!a&&r(`theme:${e}`,!o)},[e,o,r]);return v.default.createElement(q,{name:e,desc:t,popupModal:i},v.default.createElement("span",{className:"themeOptionToggle",ref:l},v.default.createElement("button",{className:"toggleButton",onClick:s,disabled:a},v.default.createElement("span",{className:"toggleBackground"},v.default.createElement("span",{className:`toggle ${o?"enabled":""} ${a?"disabled":""}`})))))}),ke=ht;var bt=se.default.memo(({option:e,value:t,onChange:n,disabled:o})=>{let r={toggle:ke,dropdown:Oe,input:Pe}[e.type];return se.default.createElement(r,{...e,value:t,onChange:n,disabled:o})}),k=bt;var vt=(e,t)=>{let n=Object.fromEntries(e.map(o=>[o.name,o.defaultVal]));t(n),e.forEach(o=>{let r=`theme:${o.name}`;u.set(r,o.defaultVal),document.body.classList.toggle(o.name,o.defaultVal),o.run&&o.run(o.defaultVal)})},ee=vt;var St=(e,t)=>{Object.entries(e).forEach(([n,o])=>{u.set(`theme:${n}`,o),document.body.classList.toggle(n,o),t.find(r=>r.name===n)?.run?.(o)})},te=St;var wt=S.default.memo(()=>{let[e,t]=S.default.useState(()=>Object.fromEntries(x.map(o=>[o.name,u.get(`theme:${o.name}`,o.defaultVal)]))),n=S.default.useCallback((o,r)=>{t(a=>({...a,[o.replace("theme:","")]:r}))},[]);return S.default.useEffect(()=>{x.forEach(o=>o.run?.(e[o.name]))},[e]),S.default.createElement("div",{className:"themeModalOptions albumBannerSettings"},x.map(o=>S.default.createElement(k,{key:o.name,option:o,value:e[o.name],onChange:n})),S.default.createElement("div",{className:"buttonContainer"},S.default.createElement("button",{className:"resetButton",onClick:()=>ee(x,t)},"Reset"),S.default.createElement("button",{className:"saveButton",onClick:()=>{te(e,x),J()}},"Save")))}),x=[{type:"toggle",name:"AlbumBannerPage",desc:"Puts album art in places",defaultVal:!0,tippy:"Includes Spotify Lyrics page and Spicetify's Lyrics Plus"},{type:"toggle",name:"LyricsPage",desc:"Adds Dynamic backgrounds to Lyrics Page",defaultVal:!0,tippy:"Includes Spotify Lyrics page and Spicetify's Lyrics Plus"},{type:"toggle",name:"PlaylistPage",desc:"Adds Dynamic backgrounds to your Playlist Pages",defaultVal:!0},{type:"toggle",name:"ArtistPage",desc:"Adds Dynamic backgrounds to Artist Pages",defaultVal:!0},{type:"toggle",name:"AlbumPage",desc:"Adds Dynamic backgrounds to Album Pages",defaultVal:!0},{type:"toggle",name:"MiscPage",desc:"Adds Dynamic backgrounds to Misc Pages",defaultVal:!0,tippy:"Enables album art for Station, Collection, Show, Episode, Genre, User"}],Ie=wt;var I=c(m(),1);var Ct=I.default.memo(()=>{let[e,t]=I.default.useState(()=>Object.fromEntries(T.map(o=>[o.name,u.get(`theme:${o.name}`,o.defaultVal)]))),n=(o,r)=>{let a=o.replace("theme:","");t(i=>({...i,[a]:r})),document.documentElement.style.setProperty(`--windowcontrol-${a.toLowerCase()}`,r)};return I.default.createElement("div",{className:"themeModalOptions windowsControlSettings"},T.map(o=>I.default.createElement(k,{key:o.name,option:o,value:e[o.name],onChange:n})),I.default.createElement("div",{className:"buttonContainer"},I.default.createElement("button",{className:"resetButton",onClick:()=>ee(T,t)},"Reset"),I.default.createElement("button",{className:"saveButton",onClick:()=>te(e,T)},"Save")))}),T=[{type:"toggle",name:"WindowsControl",desc:"Enable custom Windows Controls",defaultVal:!0,run:e=>{document.body.classList.toggle("WindowsControl",e)}},{type:"input",name:"WindowsControlBrightness",desc:"Set Brightness",defaultVal:"2.12",run:e=>document.documentElement.style.setProperty("--windowcontrol-brightness",e)},{type:"input",name:"WindowsControlTop",desc:"Set Top",defaultVal:"16px",run:e=>document.documentElement.style.setProperty("--windowcontrol-top",e)},{type:"input",name:"WindowsControlWidth",desc:"Set Width",defaultVal:"135px",run:e=>document.documentElement.style.setProperty("--windowcontrol-width",e)},{type:"input",name:"WindowsControlHeight",desc:"Set Height",defaultVal:"32px",run:e=>document.documentElement.style.setProperty("--windowcontrol-height",e)}],Te=Ct;var xt=()=>{let e=(t,n)=>{t.forEach(o=>{let r=u.get(`theme:${o.name}`,o.defaultVal);n?document.documentElement.style.setProperty(n(o.name),r):document.body.classList.toggle(o.name,r)})};e(x),e(T,t=>`--windowcontrol-${t.replace("WindowsControl","").toLowerCase()}`)},oe=xt;var Mt=async e=>{if(e==="default"){document.querySelector("style.customColourScheme")?.remove();return}let o=(await(await fetch("https://raw.githubusercontent.com/veryboringhwl/spicetify/main/dist/color.ini")).text()).split(/[\r\n]+/).reduce((i,l)=>{if(l=l.trim(),l.startsWith(";"))return i;let s=l.match(/^\[([^\]]+)\]$/);if(s)return i[s[1]]={},i;let d=l.match(/^([^=]+?)\s*=\s*(.+)$/);if(d){let[,f,A]=d,$=Object.keys(i).pop();$&&(i[$][f]=A.split(";")[0].trim())}return i},{}),r=`${Object.entries(o[e]).reduce((i,[l,s])=>{let d=s.length===3?s.split("").map(f=>Number.parseInt(f+f,16)).join(", "):s.match(/\w\w/g).map(f=>Number.parseInt(f,16)).join(", ");return`${i}--spice-${l}:#${s};--spice-rgb-${l}:${d};`},":root{")}}`,a=document.querySelector("style.customColourScheme");a||(a=document.createElement("style"),a.classList.add("customColourScheme"),document.body.appendChild(a)),a.textContent=r},Ve=Mt;var Ee=async e=>{if(!Spicetify.Platform.UserAPI._product_state_service){setTimeout(()=>Ee(e),100);return}let t={default:{"app-developer":"0",employee:"0"},developer:{"app-developer":"2",employee:"0"},employee:{"app-developer":"0",employee:"1"},both:{"app-developer":"2",employee:"1"}},n=t[e]||t.default,o=async(r,a)=>(await Spicetify.Platform.UserAPI._product_state_service.putValues({pairs:{[r]:a}}),Spicetify.Platform.UserAPI._product_state_service.subValues({keys:[r]},async i=>{i[r]!==a&&await Spicetify.Platform.UserAPI._product_state_service.putValues({pairs:{[r]:a}})}));window.appDevListener?.cancel(),window.employeeListener?.cancel(),window.appDevListener=await o("app-developer",n["app-developer"]),window.employeeListener=await o("employee",n.employee)},Ne=Ee;var F=null,X=null;function Lt(e){let t=document.querySelector(".Root__globalNav");t&&(ce(t),e?Ot(t):ce(t))}function Ot(e){ce(e),e.classList.add("global-libraryX");let t=()=>{e.querySelectorAll(".search-searchCategory-categoryGrid > div > button, .main-globalNav-searchContainer > .main-globalNav-link-icon, ._b3hhmbWtOY8_1M1mM1H").forEach(r=>{if(!r.querySelector(".main-globalNav-textWrapper")){let a=r.getAttribute("aria-label")||(r.querySelector("input")?"Search":""),i=document.createElement("span");i.className="main-globalNav-textWrapper",i.innerHTML=`<div class="main-globalNav-iconText encore-text-body-medium-bold">${a}</div>`,r.appendChild(i)}})};t(),F=new MutationObserver(t),F.observe(e,{childList:!0,subtree:!0});let n=()=>{let o=document.querySelector(".sikBfynL1Y6I25nVpbAg");e.classList.toggle("collapsed",o!=null)};n(),X=new MutationObserver(n),X.observe(document.body,{childList:!0,subtree:!0})}function ce(e){e.classList.remove("global-libraryX","collapsed"),F&&(F.disconnect(),F=null),X&&(X.disconnect(),X=null),e.querySelectorAll(".main-globalNav-textWrapper").forEach(n=>n.remove())}var Be=Lt;var Z=null,K=null;async function Pt(e){let t=await D(".Root__globalNav");me(t),e?kt(t):me(t)}function kt(e){me(e),e.classList.add("global-libraryX");let t=()=>{e.querySelectorAll(".search-searchCategory-categoryGrid > div > button, .main-globalNav-searchContainer > .main-globalNav-link-icon, ._b3hhmbWtOY8_1M1mM1H").forEach(r=>{if(!r.querySelector(".main-globalNav-textWrapper")){let a=r.getAttribute("aria-label")||(r.querySelector("input")?"Search":""),i=document.createElement("span");i.className="main-globalNav-textWrapper",i.innerHTML=`<div class="main-globalNav-iconText encore-text-body-medium-bold">${a}</div>`,r.appendChild(i)}})};t(),Z=new MutationObserver(t),Z.observe(e,{childList:!0,subtree:!0});let n=()=>{let o=document.querySelector(".sikBfynL1Y6I25nVpbAg");e.classList.toggle("collapsed",o!=null)};n(),K=new MutationObserver(n),K.observe(document.body,{childList:!0,subtree:!0})}function me(e){e.classList.remove("global-libraryX","collapsed"),Z&&(p.Log("Removing libx observer"),Z.disconnect(),Z=null),K&&(p.Log("Removing collapsedobserver"),K.disconnect(),K=null),e.querySelectorAll(".main-globalNav-textWrapper").forEach(n=>n.remove())}var Ae=Pt;var It=async e=>{let t=await D(".main-nowPlayingBar-volumeBar"),n=()=>{let o=t.querySelector(".vol-input");o&&(o.value=Math.round(Spicetify.Player.getVolume()*100))};if(e){if(!t.querySelector(".vol-percent")){t.insertAdjacentHTML("beforeend",`
							<div class="vol-percent" style="display: inline-flex; align-items: center;">
									<input type="text" class="vol-input" 
											style="width: 30px; font-size: 15px; border: none; background: transparent; text-align: right;">
									<span style="font-size: 15px;">%</span>
							</div>
					`),t.style.flex="0 1 200px";let o=t.querySelector(".vol-input");o.addEventListener("change",()=>{let r=Number.parseInt(o.value,10);r>=0&&r<=100&&Spicetify.Player.setVolume(r/100)}),Spicetify.Platform.PlaybackAPI._events.addListener("volume",n),n()}}else{let o=document.querySelector(".main-nowPlayingBar-volumeBar");o&&(o.querySelector(".vol-percent")?.remove(),o.style.flex="",Spicetify.Platform.PlaybackAPI._events.removeListener("volume",n))}},$e=It;var Tt={Features:[{type:"dropdown",name:"colourschemeselector",desc:"Change the colour scheme of Spotify",defaultVal:"default",options:[{value:"default",label:"Default"},{value:"dark",label:"Dark"},{value:"light",label:"Light"},{value:"bloom",label:"Bloom"},{value:"spotify",label:"Spotify"}],tippy:"Default uses the colour scheme set in config-xpui.ini",run(e){Ve(e)}},{type:"dropdown",name:"change-Spotify-mode",desc:"Change Spotify mode",defaultVal:"developer",tippy:"Only takes effect after a restart",options:[{value:"default",label:"Default"},{value:"developer",label:"Developer"},{value:"employee",label:"Employee"},{value:"both",label:"Dev + Empl"}],run(e){Ne(e)}},{type:"input",name:"ZoomLevel",desc:"Change the zoom level of Spotify page",defaultVal:100,placeholder:"100%",run(e){Zoomlevel=e/100,document.documentElement.style.setProperty("--Zoomlevel",Zoomlevel)}},{type:"toggle",name:"AlbumBannerPage",desc:"Put album cover art in various pages",defaultVal:!0,popupModal:Ie,run(e){J(e)}},{type:"toggle",name:"VolumePercentage",desc:"Show volume percentage next to volume slider",defaultVal:!0,run(e){$e(e)}},{type:"toggle",name:"WindowsControl",desc:"Adjust the position and brightness of the windows controls",defaultVal:!1,tippy:"This will override the themes default windows controls",popupModal:Te},{type:"input",name:"uifont",desc:"Changes the font of the Spotify app",defaultVal:"SpotifyMixUI",placeholder:"SpotifyMixUI",tippy:"This will only work if you have the font installed locally",run(e){document.documentElement.style.setProperty("--FontFamily",e)}}],Layouts:[{type:"toggle",name:"LibX",desc:"Restore the old UI >2024 (Pre Global Nav Bar)",defaultVal:!1,incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",run(e){Ae(e)},reveal:[{type:"toggle",name:"highlightnav",desc:"Adds highlight to the selected page",defaultVal:!0},{type:"toggle",name:"PreLibX",desc:"Restore the old UI >2023 (Pre LibraryX)",defaultVal:!1},{type:"toggle",name:"CompactLib",desc:"Makes library compact while keeping icons",defaultVal:!1,tippy:"Broken if library is collapsed"}]},{type:"toggle",name:"AppleMusic",desc:"Changes the UI to look like Apple Music",defaultVal:!1,incompatible:["LibX","switchlayout","TestLayout","greenicon"],tippy:"Incompatible with LibX, Switchlayout, greenicon and testlayout",run(e){Be(e)}},{type:"toggle",name:"TestLayout",desc:"Rearrange playbutton to start and cover art to middle",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0},{type:"toggle",name:"switchlayout",desc:"Uses different grid layout for Now playing bar",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0}],Snippets:[{type:"toggle",name:"hidetracklistnum",desc:"Hide tracklist numbers in various pages",defaultVal:!0},{type:"toggle",name:"greenicon",desc:"Make the selected tab icon green",incompatible:["AppleMusic"],tippy:"Incompatible with AppleMusic",defaultVal:!0},{type:"toggle",name:"transplayicon",desc:"Make the play/pause button transparent",defaultVal:!0},{type:"toggle",name:"npvlargerlyrics",desc:"Show lyrics only in Now playing view",defaultVal:!1},{type:"toggle",name:"homeheader",desc:"Remove the coloured gradient from the home page header",defaultVal:!0}],Test:[{type:"toggle",name:"test-toggle",desc:"test-toggle",defaultVal:!0,popupModal:j,incompatible:["test-incompatible"],tippy:"Incompatible with test-incompatible"},{type:"toggle",name:"test-incompatible",desc:"test-incompatible",defaultVal:!0},{type:"input",name:"test-input",desc:"test-input",defaultVal:1,placeholder:"does something"},{type:"dropdown",name:"test-dropdown",desc:"test-dropdown",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}]},{type:"toggle",name:"test-reveal",desc:"test-reveal",defaultVal:!0,reveal:[{type:"toggle",name:"revealed-toggle",desc:"revealed-toggle",defaultVal:!0},{type:"input",name:"revealed-input",desc:"revealed-input",defaultVal:!0},{type:"dropdown",name:"revealed-dropdown",desc:"revealed-dropdown",defaultVal:"test1",options:[{value:"test1",label:"test1"},{value:"test2",label:"test2"},{value:"test3",label:"test3"},{value:"test4",label:"test4"}]}]}]},g=Tt;var Vt=(e,t=[])=>{try{Object.values(g).flat().forEach(({name:n,type:o,reveal:r,run:a})=>{let i=`theme:${n}`,l=e[i];o==="toggle"&&document.body.classList.toggle(n,l),r&&r.forEach(({name:s,type:d})=>{d==="toggle"&&document.body.classList.toggle(s,l&&e[`theme:${s}`])}),t.includes(i)&&a&&a(l)})}catch(n){p.Error("Failed to apply options:",n)}},H=Vt;function Et(e){let t={};for(let n of e){let o=`theme:${n.name}`;if(t[o]=u.get(o,n.defaultVal),n.reveal)for(let r of n.reveal){let a=`theme:${r.name}`;t[a]=t[o]?u.get(a,r.defaultVal):!1}}return t}var ne=Et;var Nt=()=>{try{let e=ne(Object.values(g).flat());return Object.values(g).flat().forEach(t=>{let n=`theme:${t.name}`,o=e[n];t.run?.(o)}),H(e),oe(),e}catch(e){p.Error("Failed to initialise options:",e)}},_e=Nt;var h=c(m(),1),Xe=c(Y(),1);var U=c(m(),1),De=c(Y(),1);function Bt({titleText:e,descriptionText:t,cancelText:n="Cancel",confirmText:o="Confirm",onConfirm:r,onClose:a,onOpen:i,onOutside:l,confirmLabel:s,allowHTML:d}){let f=U.default.memo(()=>{let[A,$]=Spicetify.React.useState(!0),le=document.querySelector(".ReactModalPortal:last-of-type");return U.default.useEffect(()=>{A&&i?.()},[]),U.default.createElement(Spicetify.ReactComponent.RemoteConfigProvider,{configuration:Spicetify.Platform.RemoteConfiguration},U.default.createElement(Spicetify.ReactComponent.ConfirmDialog,{titleText:e,descriptionText:t,cancelText:n,confirmText:o,isOpen:A,onOutside:()=>{$(!1),l?.(),le?.remove()},onClose:()=>{$(!1),a?.(),le?.remove()},onConfirm:()=>{$(!1),r?.(),le?.remove()},confirmLabel:s,allowHTML:d}))});De.default.createRoot(document.createElement("div")).render(U.default.createElement(f,null))}var re=Bt;var At={Reload:()=>{location.reload()},Restart:()=>{Spicetify.Platform.UpdateAPI.applyUpdate()}},pe=At;var w=c(m(),1);var B=c(m(),1),$t=B.default.memo(({categories:e})=>{let t=B.default.useRef(null);B.default.useEffect(()=>{let o=a=>{t.current&&(t.current.scrollLeft+=a.deltaY,a.preventDefault())},r=t.current;return r?.addEventListener("wheel",o,{passive:!1}),()=>r?.removeEventListener("wheel",o)},[]);let n=`calc((100% - ${(e.length-1)*8}px) / ${e.length})`;return B.default.createElement("div",{className:"carouselContainer"},B.default.createElement("div",{className:"category-carousel",ref:t},e.map(o=>B.default.createElement("button",{key:o,className:"category-button",onClick:()=>{document.querySelector(`.${o.toLowerCase()}Container`)?.scrollIntoView({behavior:"smooth",block:"start"})},style:{width:n}},o))))}),We=$t;var ae=c(m(),1),_t=ae.default.memo(({name:e,children:t})=>ae.default.createElement("div",{className:`themeOptionsCategory ${e.toLowerCase()}Container`},ae.default.createElement("h2",{className:"categoryTitle"},e),t)),je=_t;var Dt=e=>{re({titleText:"Are you sure?",descriptionText:"This will reset all settings to default!",confirmText:"Reset",onOpen:()=>{document.querySelector(".GenericModal__overlay").style.zIndex=0},onConfirm:()=>{try{console.log("Resetting settings");let t=[...Object.values(g).flat(),...x,...T],n={};t.forEach(o=>{let r=`theme:${o.name}`;n[r]=o.defaultVal,o.reveal&&o.reveal.forEach(a=>{n[`theme:${a.name}`]=o.defaultVal?a.defaultVal:!1})}),Object.entries(n).forEach(([o,r])=>{u.set(o,r)}),e(n),H(n,Object.keys(n)),oe()}catch(t){p.Error("Failed to reset settings:",t)}}})},qe=Dt;var Wt=e=>{try{let t={...e};Object.values(g).flat().forEach(r=>{let a=`theme:${r.name}`;t[a]===!0&&r.incompatible&&r.incompatible.forEach(i=>{let l=`theme:${i}`;t[l]=!1})});let o=Object.entries(t).filter(([r,a])=>{let i=u.get(r,null);return JSON.stringify(i)!==JSON.stringify(a)?(u.set(r,a),!0):!1}).map(([r])=>r);if(o.length>0){let r=o.map(a=>`${a} = ${t[a]}`).join(", ");p.Log(`Saving settings: ${r}`),H(t,o)}return t}catch(t){return p.Error("Failed to save settings:",t),e}},He=Wt;var Ue=c(m(),1);var jt=()=>{let e=ne(Object.values(g).flat()),[t,n]=Ue.default.useState(e);return[t,(r,a)=>{n(i=>{let l={...i,[r]:a},s=r.replace("theme:",""),d=Object.values(g).flat().find(f=>f.name===s);return d?.reveal&&d.reveal.forEach(f=>{let A=`theme:${f.name}`;l[A]=a?f.defaultVal:!1}),l})},n]},ze=jt;var z=c(m(),1);var de=c(m(),1);var qt=de.default.memo(({option:e,settings:t,onChange:n})=>{let r=Object.values(g).flat().some(a=>a.incompatible?.includes(e.name)&&t[`theme:${a.name}`]);return de.default.createElement(k,{option:e,value:t[`theme:${e.name}`],onChange:n,disabled:r})}),Ge=qt;var ie=c(m(),1);var Ht=ie.default.memo(({option:e,settings:t,onChange:n})=>ie.default.createElement("div",{className:"themeOptionRevealed"},e.reveal.map(o=>ie.default.createElement(k,{key:o.name,option:o,value:t[`theme:${o.name}`],onChange:n})))),Re=Ht;var Ut=z.default.memo(({option:e,settings:t,onChange:n})=>{let o=t[`theme:${e.name}`];return z.default.createElement("div",{className:"themeOptionWrapper"},z.default.createElement("div",{className:"themeOptionMain"},z.default.createElement(Ge,{option:e,settings:t,onChange:n})),o&&e.reveal&&z.default.createElement(Re,{option:e,settings:t,onChange:n}))}),Fe=Ut;var zt=w.default.memo(()=>{let[e,t,n]=ze(),o=Object.keys(g);return w.default.createElement("div",{className:"themeContainer"},w.default.createElement(We,{categories:o}),w.default.createElement("div",{className:"optionsContainer"},Object.entries(g).map(([r,a])=>w.default.createElement(je,{key:r,name:r},a.map(i=>w.default.createElement(Fe,{key:i.name,option:i,settings:e,onChange:t}))))),w.default.createElement("div",{className:"buttonContainer"},w.default.createElement("button",{className:"resetButton",onClick:()=>qe(n)},"Reset"),w.default.createElement("button",{className:"saveButton",onClick:()=>{let r=He(e);n(r)}},"Save")))}),ue=zt;var Gt=()=>{let e=null,t=null,n=()=>{e&&(e.remove(),e=null),document.removeEventListener("mousedown",o)},o=i=>{e&&t&&(e.contains(i.target)||t.element.contains(i.target)||n())},r=()=>(n(),e=document.createElement("div"),e.id="context-menu",e.style.position="absolute",e.style.zIndex="1000",document.body.appendChild(e),document.addEventListener("mousedown",o),e),a=i=>{i.preventDefault();let l=t.element.getBoundingClientRect(),s=r();s.style.top=`${l.bottom}px`,s.style.left=`${l.left}px`,Xe.default.createRoot(s).render(h.default.createElement(Spicetify.ReactComponent.Menu,null,h.default.createElement(Spicetify.ReactComponent.MenuItem,{onClick:()=>{pe.Reload(),s.remove()},leadingIcon:h.default.createElement("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.repeat}})},"Reload theme"),h.default.createElement(Spicetify.ReactComponent.MenuItem,{onClick:()=>{pe.Restart(),s.remove()},leadingIcon:h.default.createElement("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.locked}})},"Restart Spotify"),h.default.createElement(Spicetify.ReactComponent.MenuItem,{onClick:()=>{re({titleText:"Confirm Dialog",descriptionText:"Are you <b>sure</b>?",onOutside:()=>Spicetify.showNotification("Clicked outside"),confirmLabel:"Ok",allowHTML:!0}),s.remove()},leadingIcon:h.default.createElement("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.check}}),divider:"after"},"Confirm Dialog"),h.default.createElement(Spicetify.ReactComponent.MenuItem,{onClick:()=>{O({title:"Theme Settings",content:ue}),s.remove()},leadingIcon:h.default.createElement("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.subtitles}})},"Theme Settings"),h.default.createElement(Spicetify.ReactComponent.MenuItem,{leadingIcon:h.default.createElement("svg",{viewBox:"0 0 16 16",width:"16",height:"16",fill:"currentColor",dangerouslySetInnerHTML:{__html:Spicetify.SVGIcons.menu}}),onClick:()=>{O({title:"Debug Menu",content:j}),s.remove()}},"Debug Menu")))};return t=new Spicetify.Topbar.Button("Theme Settings",`<svg viewBox="0 0 16 16" width="16px" height="16px" fill="currentColor">${b.settings}</svg>`,()=>{O({title:"Theme Settings",content:ue})},!1,!0),t.element.oncontextmenu=a,t},Ze=Gt;(async function(){let t=Date.now()+5e3;for(;!(Spicetify.Config&&Spicetify.CosmosAsync&&Spicetify.Mousetrap&&Spicetify.Platform&&Spicetify.ReactComponent&&Spicetify.Snackbar.enqueueSnackbar&&Spicetify.Snackbar.enqueueCustomSnackbar);){if(Date.now()>t){p.Error("Error: Required components not found."),R({autoHideDuration:5e3,backgroundColor:"#ff9800",message:M.default.createElement(M.default.Fragment,null,M.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",dangerouslySetInnerHTML:{__html:b.warning}}),M.default.createElement("span",null,"Theme could not load. Please refresh the page and try again."))});break}await new Promise(o=>setTimeout(o,10))}p.Log("Spicetify theme initialising"),Spicetify.Mousetrap.bind(["escape"],()=>{Spicetify.PopupModal.hide()}),Spicetify.Mousetrap.bind("f8",()=>{debugger}),Spicetify.Platform.PlatformData.event_sender_context_information.client_version_int<1255e5&&R({autoHideDuration:5e3,backgroundColor:"#ff9800",message:M.default.createElement(M.default.Fragment,null,M.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",dangerouslySetInnerHTML:{__html:b.warning}}),M.default.createElement("span",null,"Theme only supports Spotify versions greater than 1.2.50.000"))}),Me(),xe(),Ze(),_e(),p.Log("Spicetify theme initialised")})();
})();
